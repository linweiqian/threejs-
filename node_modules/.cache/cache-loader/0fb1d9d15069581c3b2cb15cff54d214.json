{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\src\\components\\model\\model-mixin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\src\\components\\model\\model-mixin.vue","mtime":1672558385755},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\babel.config.js","mtime":1672558385433},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672558679027},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1672558683394},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\babel-loader\\lib\\index.js","mtime":1672558678446},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\vue-loader\\lib\\index.js","mtime":1672558683459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgT2JqZWN0M0QsIFZlY3RvcjIsIFZlY3RvcjMsIENvbG9yLCBTY2VuZSwgUmF5Y2FzdGVyLCBXZWJHTFJlbmRlcmVyLCBQZXJzcGVjdGl2ZUNhbWVyYSwgQW1iaWVudExpZ2h0LCBQb2ludExpZ2h0LCBIZW1pc3BoZXJlTGlnaHQsIERpcmVjdGlvbmFsTGlnaHQsIExpbmVhckVuY29kaW5nLCBBeGlzSGVscGVyLCBUZXh0dXJlTG9hZGVyLCBCb3gzLCBCb3hIZWxwZXIgfSBmcm9tICJ0aHJlZSI7CmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scyI7CmltcG9ydCB7IGdldFNpemUsIGdldENlbnRlciB9IGZyb20gIi4vdXRpbCI7Cgp2YXIgc3Vwb3J0V2ViR0wgPSBmdW5jdGlvbiAoKSB7CiAgdHJ5IHsKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIikpKTsKICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9KCk7Cgp2YXIgREVGQVVMVF9HTF9PUFRJT05TID0gewogIGFudGlhbGlhczogdHJ1ZSwKICBhbHBoYTogdHJ1ZQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHNyYzogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgcG9zaXRpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogMCwKICAgICAgICAgIHo6IDAKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgcm90YXRpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogMCwKICAgICAgICAgIHo6IDAKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgc2NhbGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiAxLAogICAgICAgICAgeTogMSwKICAgICAgICAgIHo6IDEKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgbGlnaHRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGNhbWVyYVBvc2l0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB6OiAwCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGNhbWVyYVJvdGF0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB6OiAwCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGNhbWVyYVVwOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIGNhbWVyYUxvb2tBdDogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBzY2VuZUJnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAiIgogICAgfSwKICAgIGJhY2tncm91bmRDb2xvcjogewogICAgICAiZGVmYXVsdCI6IDB4ZmZmZmZmCiAgICB9LAogICAgYmFja2dyb3VuZEFscGhhOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgImRlZmF1bHQiOiAxCiAgICB9LAogICAgY29udHJvbHNPcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIGNyb3NzT3JpZ2luOiB7CiAgICAgICJkZWZhdWx0IjogImFub255bW91cyIKICAgIH0sCiAgICByZXF1ZXN0SGVhZGVyOiB7CiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIG91dHB1dEVuY29kaW5nOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgImRlZmF1bHQiOiBMaW5lYXJFbmNvZGluZwogICAgfSwKICAgIGdsT3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdXBvcnRXZWJHTDogc3Vwb3J0V2ViR0wsCiAgICAgIHNpemU6IHsKICAgICAgICB3aWR0aDogdGhpcy53aWR0aCwKICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0CiAgICAgIH0sCiAgICAgIG9iamVjdDogbnVsbCwKICAgICAgcmF5Y2FzdGVyOiBuZXcgUmF5Y2FzdGVyKCksCiAgICAgIG1vdXNlOiBuZXcgVmVjdG9yMigpLAogICAgICBjYW1lcmE6IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgMSwgMC4wMSwgMTAwMDAwKSwKICAgICAgc2NlbmU6IG5ldyBTY2VuZSgpLAogICAgICB3cmFwcGVyOiBuZXcgT2JqZWN0M0QoKSwKICAgICAgcmVuZGVyZXI6IG51bGwsCiAgICAgIGNvbnRyb2xzOiBudWxsLAogICAgICBhbGxMaWdodHM6IFtdLAogICAgICBjbG9jazogdHlwZW9mIHBlcmZvcm1hbmNlID09PSAidW5kZWZpbmVkIiA/IERhdGUgOiBwZXJmb3JtYW5jZSwKICAgICAgcmVxSWQ6IG51bGwgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlkCgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNMaXN0ZW5lcjogZnVuY3Rpb24gaGFzTGlzdGVuZXIoKSB7CiAgICAgIC8vIOWIpOaWreaYr+WQpuaciem8oOagh+S6i+S7tuebkeWQrO+8jOeUqOS6juWHj+WwkeS4jeW/heimgeeahOaLvuWPluWIpOaWrQoKICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi8KICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50czsKICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICBbIm9uLW1vdXNlbW92ZSIsICJvbi1tb3VzZXVwIiwgIm9uLW1vdXNlZG93biIsICJvbi1jbGljayJdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICByZXN1bHRbbmFtZV0gPSAhIWV2ZW50c1tuYW1lXSAmJiBldmVudHNbbmFtZV0ubGVuZ3RoID4gMDsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMud2lkdGggPT09IHVuZGVmaW5lZCB8fCB0aGlzLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuc2l6ZSA9IHsKICAgICAgICB3aWR0aDogdGhpcy4kZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgaGVpZ2h0OiB0aGlzLiRlbC5vZmZzZXRIZWlnaHQKICAgICAgfTsKICAgIH0KCiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfR0xfT1BUSU9OUywgdGhpcy5nbE9wdGlvbnMsIHsKICAgICAgY2FudmFzOiB0aGlzLiRyZWZzLmNhbnZhcwogICAgfSk7CiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIob3B0aW9ucyk7CiAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsKICAgIHRoaXMucmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSB0aGlzLm91dHB1dEVuY29kaW5nOwogICAgdGhpcy5jb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLiRlbCk7CiAgICB0aGlzLmNvbnRyb2xzLnR5cGUgPSAib3JiaXQiOwogICAgdGhpcy5zY2VuZS5hZGQodGhpcy53cmFwcGVyKTsKICAgIHRoaXMubG9hZCgpOwogICAgdGhpcy51cGRhdGUoKTsgLy/mmL7npLrkuInnu7TlnZDmoIfns7sKICAgIC8vIHZhciBheGlzID0gbmV3IEF4aXNIZWxwZXIoMyk7CiAgICAvLyB0aGlzLnNjZW5lLmFkZChheGlzKTsKICAgIC8vIGNvbnNvbGUubG9nKGF4aXMpOwoKICAgIGlmICh0aGlzLnNjZW5lQmcpIHsKICAgICAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2NlbmVCZyk7CiAgICB9CgogICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgdGhpcy5vbk1vdXNlRG93biwgZmFsc2UpOwogICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5vbk1vdXNlTW92ZSwgZmFsc2UpOwogICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMub25Nb3VzZVVwLCBmYWxzZSk7CiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMub25DbGljaywgZmFsc2UpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMub25SZXNpemUsIGZhbHNlKTsKICAgIHRoaXMuYW5pbWF0ZSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmVxSWQpOwogICAgdGhpcy5yZW5kZXJlci5kaXNwb3NlKCk7CgogICAgaWYgKHRoaXMuY29udHJvbHMpIHsKICAgICAgdGhpcy5jb250cm9scy5kaXNwb3NlKCk7CiAgICB9CgogICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgdGhpcy5vbk1vdXNlRG93biwgZmFsc2UpOwogICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5vbk1vdXNlTW92ZSwgZmFsc2UpOwogICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMub25Nb3VzZVVwLCBmYWxzZSk7CiAgICB0aGlzLiRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMub25DbGljaywgZmFsc2UpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMub25SZXNpemUsIGZhbHNlKTsKICB9LAogIHdhdGNoOiB7CiAgICBzcmM6IGZ1bmN0aW9uIHNyYygpIHsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgcm90YXRpb246IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAoIXRoaXMub2JqZWN0KSByZXR1cm47CiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRpb24uc2V0KHZhbC54LCB2YWwueSwgdmFsLnopOwogICAgICB9CiAgICB9LAogICAgcG9zaXRpb246IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAoIXRoaXMub2JqZWN0KSByZXR1cm47CiAgICAgICAgdGhpcy5vYmplY3QucG9zaXRpb24uc2V0KHZhbC54LCB2YWwueSwgdmFsLnopOwogICAgICB9CiAgICB9LAogICAgc2NhbGU6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAoIXRoaXMub2JqZWN0KSByZXR1cm47CiAgICAgICAgdGhpcy5vYmplY3Quc2NhbGUuc2V0KHZhbC54LCB2YWwueSwgdmFsLnopOwogICAgICB9CiAgICB9LAogICAgbGlnaHRzOiB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy51cGRhdGVMaWdodHMoKTsKICAgICAgfQogICAgfSwKICAgIHNpemU6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyYSgpOwogICAgICAgIHRoaXMudXBkYXRlUmVuZGVyZXIoKTsKICAgICAgfQogICAgfSwKICAgIGNvbnRyb2xzT3B0aW9uczogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMudXBkYXRlQ29udHJvbHMoKTsKICAgICAgfQogICAgfSwKICAgIGJhY2tncm91bmRBbHBoYTogZnVuY3Rpb24gYmFja2dyb3VuZEFscGhhKCkgewogICAgICB0aGlzLnVwZGF0ZVJlbmRlcmVyKCk7CiAgICB9LAogICAgYmFja2dyb3VuZENvbG9yOiBmdW5jdGlvbiBiYWNrZ3JvdW5kQ29sb3IoKSB7CiAgICAgIHRoaXMudXBkYXRlUmVuZGVyZXIoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W5qih5Z6L6YCC5ZCI6KeC5a+f55qE57yp5pS+55qE5q+U5L6LCiAgICBnZXRGaXRTY2FsZVZhbHVlOiBmdW5jdGlvbiBnZXRGaXRTY2FsZVZhbHVlKG9iaikgewogICAgICB2YXIgYm94SGVscGVyID0gbmV3IEJveEhlbHBlcihvYmopOwogICAgICBib3hIZWxwZXIuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7CiAgICAgIHZhciBib3ggPSBib3hIZWxwZXIuZ2VvbWV0cnkuYm91bmRpbmdCb3g7CiAgICAgIHZhciBtYXhEaWFtZXRlciA9IE1hdGgubWF4KGJveC5tYXgueCAtIGJveC5taW4ueCwgYm94Lm1heC55IC0gYm94Lm1pbi55LCBib3gubWF4LnogLSBib3gubWluLnopOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNhbWVyYS5wb3NpdGlvbi56IC8gbWF4RGlhbWV0ZXIsICJ0aGlzLmNhbWVyYS5wb3NpdGlvbi56IC8gbWF4RGlhbWV0ZXIiKTsKICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogLyBtYXhEaWFtZXRlcjsKICAgIH0sCiAgICAvL+iuvue9ruaooeWei+WIsOmAguWQiOinguWvn+eahOWkp+WwjwogICAgc2V0U2NhbGVUb0ZpdFNpemU6IGZ1bmN0aW9uIHNldFNjYWxlVG9GaXRTaXplKG9iaikgewogICAgICB2YXIgc2NhbGVWYWx1ZSA9IHRoaXMuZ2V0Rml0U2NhbGVWYWx1ZShvYmopICogMC40OyAvLyB2YXIgc2NhbGVWYWx1ZSA9IHRoaXMuZ2V0Rml0U2NhbGVWYWx1ZShvYmopOwoKICAgICAgY29uc29sZS5sb2coc2NhbGVWYWx1ZSwgInNjYWxlVmFsdWUiKTsKICAgICAgb2JqLnNjYWxlLnNldChzY2FsZVZhbHVlLCBzY2FsZVZhbHVlLCBzY2FsZVZhbHVlKTsKICAgICAgcmV0dXJuIHNjYWxlVmFsdWU7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiuvue9ruWKoOi9veaooeWei+WxheS4rQ0KICAgICAqIHtPYmplY3R9IGdyb3VwIOaooeWei+WvueixoQ0KICAgICAqLwogICAgTW9kZWxBdXRvQ2VudGVyOiBmdW5jdGlvbiBNb2RlbEF1dG9DZW50ZXIoZ3JvdXApIHsKICAgICAgLyoqDQogICAgICAgKiDljIXlm7Tnm5Llhajoh6rliqjorqHnrpfvvJrmqKHlnovmlbTkvZPlsYXkuK0NCiAgICAgICAqLwogICAgICB2YXIgYm94MyA9IG5ldyBCb3gzKCk7IC8vIOiuoeeul+Wxgue6p+aooeWei2dyb3Vw55qE5YyF5Zu055uSCiAgICAgIC8vIOaooeWei2dyb3Vw5piv5Yqg6L295LiA5Liq5LiJ57u05qih5Z6L6L+U5Zue55qE5a+56LGh77yM5YyF5ZCr5aSa5Liq572R5qC85qih5Z6LCgogICAgICBib3gzLmV4cGFuZEJ5T2JqZWN0KGdyb3VwKTsgLy8g6K6h566X5LiA5Liq5bGC57qn5qih5Z6L5a+55bqU5YyF5Zu055uS55qE5Yeg5L2V5L2T5Lit5b+D5Zyo5LiW55WM5Z2Q5qCH5Lit55qE5L2N572uCgogICAgICB2YXIgY2VudGVyID0gbmV3IFZlY3RvcjMoKTsKICAgICAgYm94My5nZXRDZW50ZXIoY2VudGVyKTsgLy8gY29uc29sZS5sb2coJ+afpeeci+WHoOS9leS9k+S4reW/g+WdkOaghycsIGNlbnRlcik7CiAgICAgIC8vIOmHjeaWsOiuvue9ruaooeWei+eahOS9jee9ru+8jOS9v+S5i+WxheS4reOAggoKICAgICAgZ3JvdXAucG9zaXRpb24ueCA9IGdyb3VwLnBvc2l0aW9uLnggLSBjZW50ZXIueDsKICAgICAgZ3JvdXAucG9zaXRpb24ueSA9IGdyb3VwLnBvc2l0aW9uLnkgLSBjZW50ZXIueTsKICAgICAgZ3JvdXAucG9zaXRpb24ueiA9IGdyb3VwLnBvc2l0aW9uLnogLSBjZW50ZXIuejsKICAgIH0sCiAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zaXplID0gewogICAgICAgICAgICB3aWR0aDogX3RoaXMuJGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IF90aGlzLiRlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oZXZlbnQpIHsKICAgICAgaWYgKCF0aGlzLmhhc0xpc3RlbmVyWyJvbi1tb3VzZWRvd24iXSkgcmV0dXJuOwogICAgICB2YXIgaW50ZXJzZWN0ZWQgPSB0aGlzLnBpY2soZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7CiAgICAgIHRoaXMuJGVtaXQoIm9uLW1vdXNlZG93biIsIGludGVyc2VjdGVkKTsKICAgIH0sCiAgICBvbk1vdXNlTW92ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHsKICAgICAgaWYgKCF0aGlzLmhhc0xpc3RlbmVyWyJvbi1tb3VzZW1vdmUiXSkgcmV0dXJuOwogICAgICB2YXIgaW50ZXJzZWN0ZWQgPSB0aGlzLnBpY2soZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7CiAgICAgIHRoaXMuJGVtaXQoIm9uLW1vdXNlbW92ZSIsIGludGVyc2VjdGVkKTsKICAgIH0sCiAgICBvbk1vdXNlVXA6IGZ1bmN0aW9uIG9uTW91c2VVcChldmVudCkgewogICAgICBpZiAoIXRoaXMuaGFzTGlzdGVuZXJbIm9uLW1vdXNldXAiXSkgcmV0dXJuOwogICAgICB2YXIgaW50ZXJzZWN0ZWQgPSB0aGlzLnBpY2soZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7CiAgICAgIHRoaXMuJGVtaXQoIm9uLW1vdXNldXAiLCBpbnRlcnNlY3RlZCk7CiAgICB9LAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkgewogICAgICBpZiAoIXRoaXMuaGFzTGlzdGVuZXJbIm9uLWNsaWNrIl0pIHJldHVybjsKICAgICAgdmFyIGludGVyc2VjdGVkID0gdGhpcy5waWNrKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpOwogICAgICB0aGlzLiRlbWl0KCJvbi1jbGljayIsIGludGVyc2VjdGVkKTsKICAgIH0sCiAgICBwaWNrOiBmdW5jdGlvbiBwaWNrKHgsIHkpIHsKICAgICAgaWYgKCF0aGlzLm9iamVjdCkgcmV0dXJuIG51bGw7CiAgICAgIHZhciByZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHggLT0gcmVjdC5sZWZ0OwogICAgICB5IC09IHJlY3QudG9wOwogICAgICB0aGlzLm1vdXNlLnggPSB4IC8gdGhpcy5zaXplLndpZHRoICogMiAtIDE7CiAgICAgIHRoaXMubW91c2UueSA9IC0oeSAvIHRoaXMuc2l6ZS5oZWlnaHQpICogMiArIDE7CiAgICAgIHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodGhpcy5tb3VzZSwgdGhpcy5jYW1lcmEpOwogICAgICB2YXIgaW50ZXJzZWN0cyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdCh0aGlzLm9iamVjdCwgdHJ1ZSk7CiAgICAgIHJldHVybiAoaW50ZXJzZWN0cyAmJiBpbnRlcnNlY3RzLmxlbmd0aCkgPiAwID8gaW50ZXJzZWN0c1swXSA6IG51bGw7CiAgICB9LAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHRoaXMudXBkYXRlUmVuZGVyZXIoKTsKICAgICAgdGhpcy51cGRhdGVDYW1lcmEoKTsKICAgICAgdGhpcy51cGRhdGVMaWdodHMoKTsKICAgICAgdGhpcy51cGRhdGVDb250cm9scygpOwogICAgfSwKICAgIHVwZGF0ZU1vZGVsOiBmdW5jdGlvbiB1cGRhdGVNb2RlbCgpIHsKICAgICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0OwogICAgICBpZiAoIW9iamVjdCkgcmV0dXJuOwogICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uOwogICAgICB2YXIgcm90YXRpb24gPSB0aGlzLnJvdGF0aW9uOwogICAgICB2YXIgc2NhbGUgPSB0aGlzLnNjYWxlOwogICAgICB0aGlzLnNldFNjYWxlVG9GaXRTaXplKG9iamVjdCk7IC8vIHRoaXMuTW9kZWxBdXRvQ2VudGVyKG9iamVjdCk7CgogICAgICBvYmplY3QucG9zaXRpb24uc2V0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnopOwogICAgICBvYmplY3Qucm90YXRpb24uc2V0KHJvdGF0aW9uLngsIHJvdGF0aW9uLnksIHJvdGF0aW9uLnopOyAvLyBvYmplY3Quc2NhbGUuc2V0KHNjYWxlLngsIHNjYWxlLnksIHNjYWxlLnopOwogICAgfSwKICAgIHVwZGF0ZVJlbmRlcmVyOiBmdW5jdGlvbiB1cGRhdGVSZW5kZXJlcigpIHsKICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjsKICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh0aGlzLnNpemUud2lkdGgsIHRoaXMuc2l6ZS5oZWlnaHQpOwogICAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpOwogICAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBDb2xvcih0aGlzLmJhY2tncm91bmRDb2xvcikuZ2V0SGV4KCkpOwogICAgICByZW5kZXJlci5zZXRDbGVhckFscGhhKHRoaXMuYmFja2dyb3VuZEFscGhhKTsKICAgIH0sCiAgICB1cGRhdGVDYW1lcmE6IGZ1bmN0aW9uIHVwZGF0ZUNhbWVyYSgpIHsKICAgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhOwogICAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3Q7CiAgICAgIGNhbWVyYS5hc3BlY3QgPSB0aGlzLnNpemUud2lkdGggLyB0aGlzLnNpemUuaGVpZ2h0OwogICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwoKICAgICAgaWYgKCF0aGlzLmNhbWVyYUxvb2tBdCAmJiAhdGhpcy5jYW1lcmFVcCkgewogICAgICAgIGlmICghb2JqZWN0KSByZXR1cm47CiAgICAgICAgdmFyIGRpc3RhbmNlID0gZ2V0U2l6ZShvYmplY3QpLmxlbmd0aCgpOwogICAgICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQodGhpcy5jYW1lcmFQb3NpdGlvbi54LCB0aGlzLmNhbWVyYVBvc2l0aW9uLnksIHRoaXMuY2FtZXJhUG9zaXRpb24ueik7CiAgICAgICAgY2FtZXJhLnJvdGF0aW9uLnNldCh0aGlzLmNhbWVyYVJvdGF0aW9uLngsIHRoaXMuY2FtZXJhUm90YXRpb24ueSwgdGhpcy5jYW1lcmFSb3RhdGlvbi56KTsKCiAgICAgICAgaWYgKHRoaXMuY2FtZXJhUG9zaXRpb24ueCA9PT0gMCAmJiB0aGlzLmNhbWVyYVBvc2l0aW9uLnkgPT09IDAgJiYgdGhpcy5jYW1lcmFQb3NpdGlvbi56ID09PSAwKSB7CiAgICAgICAgICBjYW1lcmEucG9zaXRpb24ueiA9IGRpc3RhbmNlOwogICAgICAgIH0KCiAgICAgICAgY2FtZXJhLmxvb2tBdChuZXcgVmVjdG9yMygpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KHRoaXMuY2FtZXJhUG9zaXRpb24ueCwgdGhpcy5jYW1lcmFQb3NpdGlvbi55LCB0aGlzLmNhbWVyYVBvc2l0aW9uLnopOwogICAgICAgIGNhbWVyYS5yb3RhdGlvbi5zZXQodGhpcy5jYW1lcmFSb3RhdGlvbi54LCB0aGlzLmNhbWVyYVJvdGF0aW9uLnksIHRoaXMuY2FtZXJhUm90YXRpb24ueik7CiAgICAgICAgY2FtZXJhLnVwLnNldCh0aGlzLmNhbWVyYVVwLngsIHRoaXMuY2FtZXJhVXAueSwgdGhpcy5jYW1lcmFVcC56KTsKICAgICAgICBjYW1lcmEubG9va0F0KG5ldyBWZWN0b3IzKHRoaXMuY2FtZXJhTG9va0F0LngsIHRoaXMuY2FtZXJhTG9va0F0LnksIHRoaXMuY2FtZXJhTG9va0F0LnopKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUxpZ2h0czogZnVuY3Rpb24gdXBkYXRlTGlnaHRzKCkgewogICAgICB2YXIgX3RoaXMkc2NlbmUsCiAgICAgICAgICBfdGhpczIgPSB0aGlzOwoKICAgICAgKF90aGlzJHNjZW5lID0gdGhpcy5zY2VuZSkucmVtb3ZlLmFwcGx5KF90aGlzJHNjZW5lLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5hbGxMaWdodHMpKTsKCiAgICAgIHRoaXMuYWxsTGlnaHRzID0gW107CiAgICAgIHRoaXMubGlnaHRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoIWl0ZW0udHlwZSkgcmV0dXJuOwogICAgICAgIHZhciB0eXBlID0gaXRlbS50eXBlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgdmFyIGxpZ2h0ID0gbnVsbDsKCiAgICAgICAgaWYgKHR5cGUgPT09ICJhbWJpZW50IiB8fCB0eXBlID09PSAiYW1iaWVudGxpZ2h0IikgewogICAgICAgICAgdmFyIGNvbG9yID0gaXRlbS5jb2xvciA9PT0gMHgwMDAwMDAgPyBpdGVtLmNvbG9yIDogaXRlbS5jb2xvciB8fCAweDQwNDA0MDsKICAgICAgICAgIHZhciBpbnRlbnNpdHkgPSBpdGVtLmludGVuc2l0eSA9PT0gMCA/IGl0ZW0uaW50ZW5zaXR5IDogaXRlbS5pbnRlbnNpdHkgfHwgMTsKICAgICAgICAgIGxpZ2h0ID0gbmV3IEFtYmllbnRMaWdodChjb2xvciwgaW50ZW5zaXR5KTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJwb2ludCIgfHwgdHlwZSA9PT0gInBvaW50bGlnaHQiKSB7CiAgICAgICAgICB2YXIgX2NvbG9yID0gaXRlbS5jb2xvciA9PT0gMHgwMDAwMDAgPyBpdGVtLmNvbG9yIDogaXRlbS5jb2xvciB8fCAweGZmZmZmZjsKCiAgICAgICAgICB2YXIgX2ludGVuc2l0eSA9IGl0ZW0uaW50ZW5zaXR5ID09PSAwID8gaXRlbS5pbnRlbnNpdHkgOiBpdGVtLmludGVuc2l0eSB8fCAxOwoKICAgICAgICAgIHZhciBkaXN0YW5jZSA9IGl0ZW0uZGlzdGFuY2UgfHwgMDsKICAgICAgICAgIHZhciBkZWNheSA9IGl0ZW0uZGVjYXkgPT09IDAgPyBpdGVtLmRlY2F5IDogaXRlbS5kZWNheSB8fCAxOwogICAgICAgICAgbGlnaHQgPSBuZXcgUG9pbnRMaWdodChfY29sb3IsIF9pbnRlbnNpdHksIGRpc3RhbmNlLCBkZWNheSk7CgogICAgICAgICAgaWYgKGl0ZW0ucG9zaXRpb24pIHsKICAgICAgICAgICAgbGlnaHQucG9zaXRpb24uY29weShpdGVtLnBvc2l0aW9uKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJkaXJlY3Rpb25hbCIgfHwgdHlwZSA9PT0gImRpcmVjdGlvbmFsbGlnaHQiKSB7CiAgICAgICAgICB2YXIgX2NvbG9yMiA9IGl0ZW0uY29sb3IgPT09IDB4MDAwMDAwID8gaXRlbS5jb2xvciA6IGl0ZW0uY29sb3IgfHwgMHhmZmZmZmY7CgogICAgICAgICAgdmFyIF9pbnRlbnNpdHkyID0gaXRlbS5pbnRlbnNpdHkgPT09IDAgPyBpdGVtLmludGVuc2l0eSA6IGl0ZW0uaW50ZW5zaXR5IHx8IDE7CgogICAgICAgICAgbGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodChfY29sb3IyLCBfaW50ZW5zaXR5Mik7CgogICAgICAgICAgaWYgKGl0ZW0ucG9zaXRpb24pIHsKICAgICAgICAgICAgbGlnaHQucG9zaXRpb24uY29weShpdGVtLnBvc2l0aW9uKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXRlbS50YXJnZXQpIHsKICAgICAgICAgICAgbGlnaHQudGFyZ2V0LmNvcHkoaXRlbS50YXJnZXQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImhlbWlzcGhlcmUiIHx8IHR5cGUgPT09ICJoZW1pc3BoZXJlbGlnaHQiKSB7CiAgICAgICAgICB2YXIgc2t5Q29sb3IgPSBpdGVtLnNreUNvbG9yID09PSAweDAwMDAwMCA/IGl0ZW0uc2t5Q29sb3IgOiBpdGVtLnNreUNvbG9yIHx8IDB4ZmZmZmZmOwogICAgICAgICAgdmFyIGdyb3VuZENvbG9yID0gaXRlbS5ncm91bmRDb2xvciA9PT0gMHgwMDAwMDAgPyBpdGVtLmdyb3VuZENvbG9yIDogaXRlbS5ncm91bmRDb2xvciB8fCAweGZmZmZmZjsKCiAgICAgICAgICB2YXIgX2ludGVuc2l0eTMgPSBpdGVtLmludGVuc2l0eSA9PT0gMCA/IGl0ZW0uaW50ZW5zaXR5IDogaXRlbS5pbnRlbnNpdHkgfHwgMTsKCiAgICAgICAgICBsaWdodCA9IG5ldyBIZW1pc3BoZXJlTGlnaHQoc2t5Q29sb3IsIGdyb3VuZENvbG9yLCBfaW50ZW5zaXR5Myk7CgogICAgICAgICAgaWYgKGl0ZW0ucG9zaXRpb24pIHsKICAgICAgICAgICAgbGlnaHQucG9zaXRpb24uY29weShpdGVtLnBvc2l0aW9uKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzMi5hbGxMaWdodHMucHVzaChsaWdodCk7CgogICAgICAgIF90aGlzMi5zY2VuZS5hZGQobGlnaHQpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVDb250cm9sczogZnVuY3Rpb24gdXBkYXRlQ29udHJvbHMoKSB7CiAgICAgIGlmICh0aGlzLmNvbnRyb2xzT3B0aW9ucykgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9scywgdGhpcy5jb250cm9sc09wdGlvbnMpOwogICAgICB9CiAgICB9LAogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuc3JjKSByZXR1cm47CgogICAgICBpZiAodGhpcy5vYmplY3QpIHsKICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlKHRoaXMub2JqZWN0KTsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkZXIuc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpOwogICAgICB0aGlzLmxvYWRlci5sb2FkKHRoaXMuc3JjLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IF90aGlzMy5nZXRPYmplY3QuYXBwbHkoX3RoaXMzLCBhcmd1bWVudHMpOwoKICAgICAgICBpZiAoX3RoaXMzLnByb2Nlc3MpIHsKICAgICAgICAgIF90aGlzMy5wcm9jZXNzKG9iamVjdCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuYWRkT2JqZWN0KG9iamVjdCk7CgogICAgICAgIF90aGlzMy4kZW1pdCgib24tbG9hZCIpOwogICAgICB9LCBmdW5jdGlvbiAoeGhyKSB7CiAgICAgICAgX3RoaXMzLiRlbWl0KCJvbi1wcm9ncmVzcyIsIHhocik7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJGVtaXQoIm9uLWVycm9yIiwgZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0T2JqZWN0OiBmdW5jdGlvbiBnZXRPYmplY3Qob2JqZWN0KSB7CiAgICAgIHJldHVybiBvYmplY3Q7CiAgICB9LAogICAgYWRkT2JqZWN0OiBmdW5jdGlvbiBhZGRPYmplY3Qob2JqZWN0KSB7CiAgICAgIHZhciBjZW50ZXIgPSBnZXRDZW50ZXIob2JqZWN0KTsgLy8gY29ycmVjdGlvbiBwb3NpdGlvbgoKICAgICAgdGhpcy53cmFwcGVyLnBvc2l0aW9uLmNvcHkoY2VudGVyLm5lZ2F0ZSgpKTsKICAgICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7CiAgICAgIHRoaXMud3JhcHBlci5hZGQob2JqZWN0KTsKICAgICAgdGhpcy51cGRhdGVDYW1lcmEoKTsKICAgICAgdGhpcy51cGRhdGVNb2RlbCgpOwogICAgfSwKICAgIGFuaW1hdGU6IGZ1bmN0aW9uIGFuaW1hdGUoKSB7CiAgICAgIHRoaXMucmVxSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTsKICAgICAgdGhpcy5yZW5kZXIoKTsKICAgIH0sCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["Object3D","Vector2","Vector3","Color","Scene","Raycaster","WebGLRenderer","PerspectiveCamera","AmbientLight","PointLight","HemisphereLight","DirectionalLight","LinearEncoding","AxisHelper","TextureLoader","Box3","BoxHelper","window","canvas","antialias","alpha","props","src","type","width","height","position","x","y","z","rotation","scale","lights","cameraPosition","cameraRotation","cameraUp","cameraLookAt","sceneBg","backgroundColor","backgroundAlpha","controlsOptions","crossOrigin","requestHeader","outputEncoding","glOptions","data","suportWebGL","size","object","raycaster","mouse","camera","scene","wrapper","renderer","controls","allLights","clock","reqId","computed","hasListener","result","mounted","beforeDestroy","cancelAnimationFrame","watch","deep","handler","val","methods","getFitScaleValue","obj","boxHelper","box","console","setScaleToFitSize","ModelAutoCenter","group","box3","onResize","onMouseDown","event","onMouseMove","onMouseUp","onClick","pick","update","updateModel","updateRenderer","updateCamera","updateLights","item","light","updateControls","Object","load","getObject","addObject","animate","render"],"sourceRoot":"src/components/model","sources":["model-mixin.vue"],"sourcesContent":["<template>\r\n  <div style=\"width: 100%; height: 100%; margin: 0; border: 0; padding: 0\">\r\n    <canvas\r\n      v-if=\"suportWebGL\"\r\n      ref=\"canvas\"\r\n      style=\"width: 100%; height: 100%\"\r\n    ></canvas>\r\n    <div v-else>\r\n      <slot>\r\n        Your browser does not seem to support\r\n        <a\r\n          href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\"\r\n          style=\"color: #000\"\r\n          >WebGL</a\r\n        >.<br />'\r\n      </slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Object3D,\r\n  Vector2,\r\n  Vector3,\r\n  Color,\r\n  Scene,\r\n  Raycaster,\r\n  WebGLRenderer,\r\n  PerspectiveCamera,\r\n  AmbientLight,\r\n  PointLight,\r\n  HemisphereLight,\r\n  DirectionalLight,\r\n  LinearEncoding,\r\n  AxisHelper,\r\n  TextureLoader,\r\n  Box3,\r\n  BoxHelper,\r\n} from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { getSize, getCenter } from \"./util\";\r\n\r\nconst suportWebGL = (() => {\r\n  try {\r\n    const canvas = document.createElement(\"canvas\");\r\n    return !!(\r\n      window.WebGLRenderingContext &&\r\n      (canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"))\r\n    );\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\nconst DEFAULT_GL_OPTIONS = {\r\n  antialias: true,\r\n  alpha: true,\r\n};\r\n\r\nexport default {\r\n  props: {\r\n    src: {\r\n      type: String,\r\n    },\r\n    width: {\r\n      type: Number,\r\n    },\r\n    height: {\r\n      type: Number,\r\n    },\r\n    position: {\r\n      type: Object,\r\n      default() {\r\n        return { x: 0, y: 0, z: 0 };\r\n      },\r\n    },\r\n    rotation: {\r\n      type: Object,\r\n      default() {\r\n        return { x: 0, y: 0, z: 0 };\r\n      },\r\n    },\r\n    scale: {\r\n      type: Object,\r\n      default() {\r\n        return { x: 1, y: 1, z: 1 };\r\n      },\r\n    },\r\n    lights: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    cameraPosition: {\r\n      type: Object,\r\n      default() {\r\n        return { x: 0, y: 0, z: 0 };\r\n      },\r\n    },\r\n    cameraRotation: {\r\n      type: Object,\r\n      default() {\r\n        return { x: 0, y: 0, z: 0 };\r\n      },\r\n    },\r\n    cameraUp: {\r\n      type: Object,\r\n    },\r\n    cameraLookAt: {\r\n      type: Object,\r\n    },\r\n    sceneBg: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    backgroundColor: {\r\n      default: 0xffffff,\r\n    },\r\n    backgroundAlpha: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    controlsOptions: {\r\n      type: Object,\r\n    },\r\n    crossOrigin: {\r\n      default: \"anonymous\",\r\n    },\r\n    requestHeader: {\r\n      default: () => {},\r\n    },\r\n    outputEncoding: {\r\n      type: Number,\r\n      default: LinearEncoding,\r\n    },\r\n    glOptions: {\r\n      type: Object,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      suportWebGL,\r\n      size: {\r\n        width: this.width,\r\n        height: this.height,\r\n      },\r\n      object: null,\r\n      raycaster: new Raycaster(),\r\n      mouse: new Vector2(),\r\n      camera: new PerspectiveCamera(45, 1, 0.01, 100000),\r\n      scene: new Scene(),\r\n      wrapper: new Object3D(),\r\n      renderer: null,\r\n      controls: null,\r\n      allLights: [],\r\n      clock: typeof performance === \"undefined\" ? Date : performance,\r\n      reqId: null, // requestAnimationFrame id\r\n    };\r\n  },\r\n  computed: {\r\n    hasListener() {\r\n      // 判断是否有鼠标事件监听，用于减少不必要的拾取判断\r\n      /* eslint-disable no-underscore-dangle */\r\n      const events = this._events;\r\n      const result = {};\r\n\r\n      [\"on-mousemove\", \"on-mouseup\", \"on-mousedown\", \"on-click\"].forEach(\r\n        (name) => {\r\n          result[name] = !!events[name] && events[name].length > 0;\r\n        }\r\n      );\r\n\r\n      return result;\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.width === undefined || this.height === undefined) {\r\n      this.size = {\r\n        width: this.$el.offsetWidth,\r\n        height: this.$el.offsetHeight,\r\n      };\r\n    }\r\n\r\n    const options = Object.assign({}, DEFAULT_GL_OPTIONS, this.glOptions, {\r\n      canvas: this.$refs.canvas,\r\n    });\r\n\r\n    this.renderer = new WebGLRenderer(options);\r\n    this.renderer.shadowMap.enabled = true;\r\n    this.renderer.outputEncoding = this.outputEncoding;\r\n\r\n    this.controls = new OrbitControls(this.camera, this.$el);\r\n    this.controls.type = \"orbit\";\r\n\r\n    this.scene.add(this.wrapper);\r\n\r\n    this.load();\r\n    this.update();\r\n\r\n    //显示三维坐标系\r\n    // var axis = new AxisHelper(3);\r\n    // this.scene.add(axis);\r\n    // console.log(axis);\r\n\r\n    if (this.sceneBg) {\r\n      this.scene.background = new TextureLoader().load(this.sceneBg);\r\n    }\r\n\r\n    this.$el.addEventListener(\"mousedown\", this.onMouseDown, false);\r\n    this.$el.addEventListener(\"mousemove\", this.onMouseMove, false);\r\n    this.$el.addEventListener(\"mouseup\", this.onMouseUp, false);\r\n    this.$el.addEventListener(\"click\", this.onClick, false);\r\n\r\n    window.addEventListener(\"resize\", this.onResize, false);\r\n\r\n    this.animate();\r\n  },\r\n  beforeDestroy() {\r\n    cancelAnimationFrame(this.reqId);\r\n\r\n    this.renderer.dispose();\r\n\r\n    if (this.controls) {\r\n      this.controls.dispose();\r\n    }\r\n\r\n    this.$el.removeEventListener(\"mousedown\", this.onMouseDown, false);\r\n    this.$el.removeEventListener(\"mousemove\", this.onMouseMove, false);\r\n    this.$el.removeEventListener(\"mouseup\", this.onMouseUp, false);\r\n    this.$el.removeEventListener(\"click\", this.onClick, false);\r\n\r\n    window.removeEventListener(\"resize\", this.onResize, false);\r\n  },\r\n  watch: {\r\n    src() {\r\n      this.load();\r\n    },\r\n    rotation: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (!this.object) return;\r\n        this.object.rotation.set(val.x, val.y, val.z);\r\n      },\r\n    },\r\n    position: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (!this.object) return;\r\n        this.object.position.set(val.x, val.y, val.z);\r\n      },\r\n    },\r\n    scale: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (!this.object) return;\r\n        this.object.scale.set(val.x, val.y, val.z);\r\n      },\r\n    },\r\n    lights: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateLights();\r\n      },\r\n    },\r\n    size: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateCamera();\r\n        this.updateRenderer();\r\n      },\r\n    },\r\n    controlsOptions: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateControls();\r\n      },\r\n    },\r\n    backgroundAlpha() {\r\n      this.updateRenderer();\r\n    },\r\n    backgroundColor() {\r\n      this.updateRenderer();\r\n    },\r\n  },\r\n  methods: {\r\n    //获取模型适合观察的缩放的比例\r\n    getFitScaleValue(obj) {\r\n      var boxHelper = new BoxHelper(obj);\r\n      boxHelper.geometry.computeBoundingBox();\r\n      var box = boxHelper.geometry.boundingBox;\r\n      var maxDiameter = Math.max(\r\n        box.max.x - box.min.x,\r\n        box.max.y - box.min.y,\r\n        box.max.z - box.min.z\r\n      );\r\n      console.log(\r\n        this.camera.position.z / maxDiameter,\r\n        \"this.camera.position.z / maxDiameter\"\r\n      );\r\n      return this.camera.position.z / maxDiameter;\r\n    },\r\n    //设置模型到适合观察的大小\r\n    setScaleToFitSize(obj) {\r\n      var scaleValue = this.getFitScaleValue(obj) * 0.4;\r\n      // var scaleValue = this.getFitScaleValue(obj);\r\n      console.log(scaleValue,\"scaleValue\")\r\n      obj.scale.set(scaleValue, scaleValue, scaleValue);\r\n      return scaleValue;\r\n    },\r\n    /**\r\n     * 设置加载模型居中\r\n     * {Object} group 模型对象\r\n     */\r\n    ModelAutoCenter(group) {\r\n      /**\r\n       * 包围盒全自动计算：模型整体居中\r\n       */\r\n      var box3 = new Box3();\r\n      // 计算层级模型group的包围盒\r\n      // 模型group是加载一个三维模型返回的对象，包含多个网格模型\r\n      box3.expandByObject(group);\r\n      // 计算一个层级模型对应包围盒的几何体中心在世界坐标中的位置\r\n      var center = new Vector3();\r\n      box3.getCenter(center);\r\n      // console.log('查看几何体中心坐标', center);\r\n\r\n      // 重新设置模型的位置，使之居中。\r\n      group.position.x = group.position.x - center.x;\r\n      group.position.y = group.position.y - center.y;\r\n      group.position.z = group.position.z - center.z;\r\n    },\r\n    onResize() {\r\n      if (this.width === undefined || this.height === undefined) {\r\n        this.$nextTick(() => {\r\n          this.size = {\r\n            width: this.$el.offsetWidth,\r\n            height: this.$el.offsetHeight,\r\n          };\r\n        });\r\n      }\r\n    },\r\n    onMouseDown(event) {\r\n      if (!this.hasListener[\"on-mousedown\"]) return;\r\n\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"on-mousedown\", intersected);\r\n    },\r\n    onMouseMove(event) {\r\n      if (!this.hasListener[\"on-mousemove\"]) return;\r\n\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"on-mousemove\", intersected);\r\n    },\r\n    onMouseUp(event) {\r\n      if (!this.hasListener[\"on-mouseup\"]) return;\r\n\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"on-mouseup\", intersected);\r\n    },\r\n    onClick(event) {\r\n      if (!this.hasListener[\"on-click\"]) return;\r\n\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"on-click\", intersected);\r\n    },\r\n    pick(x, y) {\r\n      if (!this.object) return null;\r\n\r\n      const rect = this.$el.getBoundingClientRect();\r\n\r\n      x -= rect.left;\r\n      y -= rect.top;\r\n\r\n      this.mouse.x = (x / this.size.width) * 2 - 1;\r\n      this.mouse.y = -(y / this.size.height) * 2 + 1;\r\n\r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n\r\n      const intersects = this.raycaster.intersectObject(this.object, true);\r\n\r\n      return (intersects && intersects.length) > 0 ? intersects[0] : null;\r\n    },\r\n    update() {\r\n      this.updateRenderer();\r\n      this.updateCamera();\r\n      this.updateLights();\r\n      this.updateControls();\r\n    },\r\n    updateModel() {\r\n      const { object } = this;\r\n\r\n      if (!object) return;\r\n\r\n      const { position } = this;\r\n      const { rotation } = this;\r\n      const { scale } = this;\r\n\r\n      this.setScaleToFitSize(object);\r\n      // this.ModelAutoCenter(object);\r\n\r\n      object.position.set(position.x, position.y, position.z);\r\n      object.rotation.set(rotation.x, rotation.y, rotation.z);\r\n      // object.scale.set(scale.x, scale.y, scale.z);\r\n    },\r\n    updateRenderer() {\r\n      const { renderer } = this;\r\n\r\n      renderer.setSize(this.size.width, this.size.height);\r\n      renderer.setPixelRatio(window.devicePixelRatio || 1);\r\n      renderer.setClearColor(new Color(this.backgroundColor).getHex());\r\n      renderer.setClearAlpha(this.backgroundAlpha);\r\n    },\r\n    updateCamera() {\r\n      const { camera } = this;\r\n      const { object } = this;\r\n\r\n      camera.aspect = this.size.width / this.size.height;\r\n      camera.updateProjectionMatrix();\r\n\r\n      if (!this.cameraLookAt && !this.cameraUp) {\r\n        if (!object) return;\r\n\r\n        const distance = getSize(object).length();\r\n\r\n        camera.position.set(\r\n          this.cameraPosition.x,\r\n          this.cameraPosition.y,\r\n          this.cameraPosition.z\r\n        );\r\n        camera.rotation.set(\r\n          this.cameraRotation.x,\r\n          this.cameraRotation.y,\r\n          this.cameraRotation.z\r\n        );\r\n\r\n        if (\r\n          this.cameraPosition.x === 0 &&\r\n          this.cameraPosition.y === 0 &&\r\n          this.cameraPosition.z === 0\r\n        ) {\r\n          camera.position.z = distance;\r\n        }\r\n\r\n        camera.lookAt(new Vector3());\r\n      } else {\r\n        camera.position.set(\r\n          this.cameraPosition.x,\r\n          this.cameraPosition.y,\r\n          this.cameraPosition.z\r\n        );\r\n        camera.rotation.set(\r\n          this.cameraRotation.x,\r\n          this.cameraRotation.y,\r\n          this.cameraRotation.z\r\n        );\r\n        camera.up.set(this.cameraUp.x, this.cameraUp.y, this.cameraUp.z);\r\n\r\n        camera.lookAt(\r\n          new Vector3(\r\n            this.cameraLookAt.x,\r\n            this.cameraLookAt.y,\r\n            this.cameraLookAt.z\r\n          )\r\n        );\r\n      }\r\n    },\r\n    updateLights() {\r\n      this.scene.remove(...this.allLights);\r\n\r\n      this.allLights = [];\r\n\r\n      this.lights.forEach((item) => {\r\n        if (!item.type) return;\r\n\r\n        const type = item.type.toLowerCase();\r\n\r\n        let light = null;\r\n\r\n        if (type === \"ambient\" || type === \"ambientlight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0x404040;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new AmbientLight(color, intensity);\r\n        } else if (type === \"point\" || type === \"pointlight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n          const distance = item.distance || 0;\r\n          const decay = item.decay === 0 ? item.decay : item.decay || 1;\r\n\r\n          light = new PointLight(color, intensity, distance, decay);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n        } else if (type === \"directional\" || type === \"directionallight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new DirectionalLight(color, intensity);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n\r\n          if (item.target) {\r\n            light.target.copy(item.target);\r\n          }\r\n        } else if (type === \"hemisphere\" || type === \"hemispherelight\") {\r\n          const skyColor =\r\n            item.skyColor === 0x000000\r\n              ? item.skyColor\r\n              : item.skyColor || 0xffffff;\r\n          const groundColor =\r\n            item.groundColor === 0x000000\r\n              ? item.groundColor\r\n              : item.groundColor || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new HemisphereLight(skyColor, groundColor, intensity);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n        }\r\n\r\n        this.allLights.push(light);\r\n        this.scene.add(light);\r\n      });\r\n    },\r\n    updateControls() {\r\n      if (this.controlsOptions) {\r\n        Object.assign(this.controls, this.controlsOptions);\r\n      }\r\n    },\r\n    load() {\r\n      if (!this.src) return;\r\n\r\n      if (this.object) {\r\n        this.wrapper.remove(this.object);\r\n      }\r\n\r\n      this.loader.setRequestHeader(this.requestHeader);\r\n      this.loader.load(\r\n        this.src,\r\n        (...args) => {\r\n          const object = this.getObject(...args);\r\n\r\n          if (this.process) {\r\n            this.process(object);\r\n          }\r\n\r\n          this.addObject(object);\r\n\r\n          this.$emit(\"on-load\");\r\n        },\r\n        (xhr) => {\r\n          this.$emit(\"on-progress\", xhr);\r\n        },\r\n        (err) => {\r\n          this.$emit(\"on-error\", err);\r\n        }\r\n      );\r\n    },\r\n    getObject(object) {\r\n      return object;\r\n    },\r\n    addObject(object) {\r\n      const center = getCenter(object);\r\n\r\n      // correction position\r\n      this.wrapper.position.copy(center.negate());\r\n\r\n      this.object = object;\r\n      this.wrapper.add(object);\r\n\r\n      this.updateCamera();\r\n      this.updateModel();\r\n    },\r\n    animate() {\r\n      this.reqId = requestAnimationFrame(this.animate);\r\n      this.render();\r\n    },\r\n    render() {\r\n      this.renderer.render(this.scene, this.camera);\r\n    },\r\n  },\r\n};\r\n</script>"]}]}