{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\src\\views\\indexOld.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\src\\views\\indexOld.vue","mtime":1672558385765},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\babel.config.js","mtime":1672558385433},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672558679027},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1672558683394},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\babel-loader\\lib\\index.js","mtime":1672558678446},{"path":"C:\\Users\\Administrator\\Desktop\\个人项目\\3d-model-h5game\\node_modules\\vue-loader\\lib\\index.js","mtime":1672558683459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VXJsUGFyYW0gfSBmcm9tICJAL3Rvb2xzL3V0aWxzLmpzIjsKaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAidGhyZWUiOwppbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAidGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanMiOwppbXBvcnQgeyBSR0JFTG9hZGVyIH0gZnJvbSAidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvUkdCRUxvYWRlciI7CmltcG9ydCB7IEZCWExvYWRlciB9IGZyb20gInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0ZCWExvYWRlciI7CmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyIjsKaW1wb3J0IHsgT0JKTG9hZGVyIH0gZnJvbSAidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvT0JKTG9hZGVyIjsKaW1wb3J0IFR1dG9yaWFsIGZyb20gIkAvY29tcG9uZW50cy90dXRvcmlhbC9pbmRleC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIFR1dG9yaWFsOiBUdXRvcmlhbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFNjZW5lOiBudWxsLAogICAgICBSZW5kZXJlcjogbnVsbCwKICAgICAgQ2FtZXJhOiBudWxsLAogICAgICBNb2RlbDogbnVsbCwKICAgICAgTGlnaHRzOiBudWxsLAogICAgICBBbmltYXRpb25NaXhlcjogbnVsbCwKICAgICAgVGNsb2NrOiBuZXcgVEhSRUUuQ2xvY2soKSwKICAgICAgQ29udHJvbHM6IG51bGwsCiAgICAgIEdyaWRIZWxwZXI6IG5ldyBUSFJFRS5HcmlkSGVscGVyKDMwMCwgNTAsIDB4MDBmZjEyLCAweGZmZmZmZiksCiAgICAgIG1vZGVsTmFtZXM6IFsi4oCc5rC05rOi57q54oCd5b2p6Zm26LGGIiwgIjE55LiW57qq6buR5ryG5o+P6YeR5Yi26Iy26LS45piT5Zu+6Iy25Y+2572QIiwgIjE55LiW57qq5qqA6aaZ5pyo6ZuV5p+z5Lqt5Lq654mp5pWF5LqL5Zu+55uSIiwgIua+s+Wkp+WIqeS6muaCieWwvOawuOWuieWFrOWPuOS9v+eUqOeahOayueWNsOacuiIsICLlvanoirHljYnnurnmj4/ph5Hlvr3nq6Dnop8iLCAi5pil56eL5pe25Luj5pa55qC857q55Y+M6ICz6Zm2572QIiwgIuW5v+W9qeW+veeroOW5v+W3numjjuaZr+mVv+aWueebmCIsICLlkJXmlofmiJDnlKjov4fnmoTpq5jog6EiLCAi5pyo6ZuV5Y2a5Y+k57q55om25omL5qSF77yI6ams5p2l6KW/5Lqa6Zy56Zuz5Lit5bGx5Lya6aaG5o2Q6LWg77yJIiwgIuacqOmbleetueeggeaPkOeuse+8iOe+juWbveWNjuS+qOS9v+eUqO+8iSIsICLmuIXmuK/lj6PlpKnlkI7lupnovoPlkIjlj7jnoIHpk4HmnYMiLCAi5riF5bm/57uj5LqU5Lym5Zu+6Iqx5qKo5qGG5bCP5bqn5bGPIiwgIua4hemllemkrue6uemTnOinmiIsICLmuIXpk4HniZvlsIoiLCAi5ZWG4oCc4oiP4oCd56ym5Y+36Zm25aO2IiwgIuaUtumTtuacuu+8iOe+juWbveWNjuS+qOS9v+eUqO+8iSIsICLppZXppK7nurnpk5zng5vlj7AiLCAi5paw55+z5Zmo5pe25Luj5YiS5bym57q55b2p6Zm256KXIiwgIuaImOWbveaXtuS7o+e0oOiDjuaWueagvOe6ueWPjOezu+mZtue9kCIsICLlrrbml4/kuLrph5HlvIDnu5PlqZrml7blj5blrZfigJzlnKPmnYPigJ3nmoTlrZfmnrYiLCAi5p6X5ZaE5rC46LWg57uZ576O5Zu95LiJ6Jep5biC5Lqa5pGp6YKj5Y2O5Z+g5YWz5bid5bqZ55qE6Iqx55O2IiwgIumYrumcreWfueWutuaXj+S9v+eUqOeahOm+meWHpOiMtuWFtyIsICLpk7jpk4HmqaHog7bpk7DvvIjmjKTlh7rljovniYfmnLrvvIkiLCAi5bqn6ZKfIiwgIueOu+eSg+iKseaPkiJdLAogICAgICBtb2RlbHM6IFtdLAogICAgICBzaG93VGlwOiB0cnVlLAogICAgICBzZWxlY3RNb2RlbEluZGV4OiAwLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbW9kZWxUZXh0OiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHN1YlRpdGxlOiAi6L+Z5piv5LiA5Liq5Y+k6JGjIgogICAgICB9LAogICAgICAvLyDph43mlrDliqDovb3mrKHmlbAKICAgICAgbG9hZGluZ0NvdW50OiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YUluZm86IGZ1bmN0aW9uIGdldERhdGFJbmZvKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJhbmRvbU1vZGVsOiBmdW5jdGlvbiByYW5kb21Nb2RlbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmb3JjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CgogICAgICB2YXIgdGVtcCA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm1vZGVscyk7CgogICAgICB2YXIgaW5kZXggPSBnZXRVcmxQYXJhbSgiaW5kZXgiKTsKCiAgICAgIGlmICghaW5kZXggfHwgZm9yY2UpIHsKICAgICAgICBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRlbXAubGVuZ3RoIC0gMSk7CiAgICAgIH0KCiAgICAgIGlmIChpbmRleCA+PSB0ZW1wLmxlbmd0aCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygiaW5kZXhcdTRFMERcdTgwRkRcdThEODVcdThGQzciLmNvbmNhdCh0ZW1wLmxlbmd0aCAtIDEsICJcdUZGMEMyXHU3OUQyXHU1NDBFXHU1QzA2XHU4RkRCXHU4ODRDXHU5NjhGXHU2NzNBXHU1QzU1XHU3OTNBXHU2N0QwXHU0RTJBXHU3MjY5XHU1NEMxIikpOwogICAgICAgIHZhciBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgdGV4dDogIkxvYWRpbmciLAogICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICAgIH0pOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgIF90aGlzLnJhbmRvbU1vZGVsKHRydWUpOwogICAgICAgIH0sIDIwMDApOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tb2RlbExvYWRlcih0ZW1wW2luZGV4XSk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWFs+mXrSIpOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLnNldFNjZW5lKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnNldFJlbmRlcmVyKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnNldENhbWVyYSgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRDb250cm9scygpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRMaWdodCgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5yYW5kb21Nb2RlbCgpOyAvL+a3u+WKoOi+heWKqemdouadvwoKCiAgICAgICAgICAgICAgICBfdGhpczIuYW5pbWF0aW9uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFNjZW5lOiBmdW5jdGlvbiBzZXRTY2VuZSgpIHsKICAgICAgdmFyIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIHNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoQkcpOwoKICAgICAgdGhpcy5TY2VuZSA9IHNjZW5lOyAvL+aYvuekuuS4iee7tOWdkOagh+ezuwogICAgICAvLyB2YXIgYXhpcyA9IG5ldyBUSFJFRS5BeGlzSGVscGVyKDMpOwogICAgICAvLyBzY2VuZS5hZGQoYXhpcyk7CiAgICB9LAogICAgc2V0UmVuZGVyZXI6IGZ1bmN0aW9uIHNldFJlbmRlcmVyKCkgewogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250YWluZXIiKTsKICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoewogICAgICAgIGFudGlhbGlhczogdHJ1ZSwKICAgICAgICBhbHBoYTogdHJ1ZSAvLyDpgI/mmI7og4zmma8KCiAgICAgIH0pOyAvLyDorr7nva7muLLmn5PlmajnmoTlg4/ntKDmr5TkvovvvIzmjInnhaforr7lpIcKCiAgICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pOwogICAgICByZW5kZXJlci5zZXRTaXplKGVsZW1lbnQuY2xpZW50V2lkdGgsIGVsZW1lbnQuY2xpZW50SGVpZ2h0KTsgLy8g6K6+572u5riy5p+T5Yy65Z+f5bC65a+4CgogICAgICByZW5kZXJlci5vdXRwdXRFbmNvZGluZyA9IFRIUkVFLnNSR0JFbmNvZGluZzsgLy8g6Imy6LCD5pig5bCE5bGe5oCnLnRvbmVNYXBwaW5n55So5LqO5Zyo5pmu6YCa6K6h566X5py65pi+56S65Zmo5oiW6ICF56e75Yqo6K6+5aSH5bGP5bmV562J5L2O5Yqo5oCB6IyD5Zu05LuL6LSo5LiK77yM5qih5ouf44CB6YC86L+R6auY5Yqo5oCB6IyD5Zu0KEhEUinmlYjmnpwKCiAgICAgIHJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuUmVpbmhhcmRUb25lTWFwcGluZzsKICAgICAgcmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDE7IC8vIOabneWFieezu+aVsAoKICAgICAgdGhpcy5SZW5kZXJlciA9IHJlbmRlcmVyOwogICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpOwogICAgfSwKICAgIHNldENhbWVyYTogZnVuY3Rpb24gc2V0Q2FtZXJhKCkgewogICAgICB0aGlzLkNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAwKTsKICAgICAgdGhpcy5DYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDUwKTsKICAgICAgdGhpcy5DYW1lcmEubG9va0F0KHRoaXMuU2NlbmUucG9zaXRpb24pOwogICAgfSwKICAgIC8v5Yqg6L295qih5Z6LR0xURiBGQlgKICAgIG1vZGVsTG9hZGVyOiBmdW5jdGlvbiBtb2RlbExvYWRlcihNT0RFTCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKE1PREVMKTsKICAgICAgdmFyIGxvYWRUaXAgPSB0aGlzLmFkZExvYWRUaXAoKTsKICAgICAgdGhpcy5Db250cm9scy5hdXRvUm90YXRlID0gZmFsc2U7IC8v5re75Yqg546v5aKDaGRyCgogICAgICBNT0RFTC5oZHIgJiYgdGhpcy5IZHJMb2FkZXIoTU9ERUwuaGRyKTsKICAgICAgdmFyIExvYWRlciA9ICIiLAogICAgICAgICAgTVRZUEUgPSBNT0RFTC50eXBlIHx8ICJnbGIiOwoKICAgICAgaWYgKCJnbGIsZ2x0ZiIuaW5kZXhPZihNVFlQRSkgIT0gLTEpIHsKICAgICAgICBMb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpOwogICAgICB9IGVsc2UgaWYgKCJmYngiLmluZGV4T2YoTVRZUEUpICE9IC0xKSB7CiAgICAgICAgTG9hZGVyID0gbmV3IEZCWExvYWRlcigpOwogICAgICB9IGVsc2UgaWYgKCJvYmoiLmluY2x1ZGVzKE1UWVBFKSkgewogICAgICAgIExvYWRlciA9IG5ldyBPQkpMb2FkZXIoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2FkVGlwLnRleHRDb250ZW50ID0gIuivt+S9v+eUqGdsYixnbHRmLGZieOagvOW8j+aooeWeiyI7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBMb2FkZXIubG9hZChNT0RFTC5wYXRoLCBmdW5jdGlvbiAoZ2VvbWV0cnkpIHsKICAgICAgICB2YXIgX3RoaXMzJENhbWVyYSRwb3NpdGlvOwoKICAgICAgICBsb2FkVGlwLnRleHRDb250ZW50ID0gIuWKoOi9veWujOaIkO+8gSI7IC8v56e76Zmk5qih5Z6LCgogICAgICAgIF90aGlzMy5Nb2RlbCAmJiBfdGhpczMuU2NlbmUucmVtb3ZlKF90aGlzMy5Nb2RlbCk7IC8v6K6+572u55u45py65L2N572uCgogICAgICAgIChfdGhpczMkQ2FtZXJhJHBvc2l0aW8gPSBfdGhpczMuQ2FtZXJhLnBvc2l0aW9uKS5zZXQuYXBwbHkoX3RoaXMzJENhbWVyYSRwb3NpdGlvLCBfdG9Db25zdW1hYmxlQXJyYXkoTU9ERUwucG9zaXRpb24pKTsKCiAgICAgICAgX3RoaXMzLk1vZGVsID0gImZieCIuaW5kZXhPZihNVFlQRSkgIT0gLTEgPyBnZW9tZXRyeSA6IGdlb21ldHJ5LnNjZW5lOyAvLyDmtYvor5VPYmogc3RhcnQKCiAgICAgICAgaWYgKCJvYmoiLmluZGV4T2YoTVRZUEUpICE9IC0xKSB7CiAgICAgICAgICBfdGhpczMuTW9kZWwgPSBnZW9tZXRyeTsKICAgICAgICB9IC8vIGVuZAogICAgICAgIC8v6YGN5Y6G5qih5Z6L5a2X6IqC54K577yM6I635Y+W55u45YWz5Y+C5pWw6K6+572uCgoKICAgICAgICBfdGhpczMuTW9kZWwudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICBpZiAoY2hpbGQuaXNNZXNoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLCAiY2hpbGTvvJoiLCBjaGlsZC5uYW1lKTsgLy8g6auY5YWJ5YC8IOm7mOiupDMwCgogICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5zaGluaW5lc3MgPSAxOwogICAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7CiAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTsgLy/mnZDotKjlhYHorrjpgI/mmI4g5aaC5p6c5pyJ546755KD5p2Q6LSo5pe25byA5ZCvCgogICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5vcGFjaXR5ID0gMTsgLy/mnZDotKjpu5jorqTpgI/mmI7luqYKCiAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09PSAiTW9kZWxfMiIgfHwgY2hpbGQubWF0ZXJpYWwubmFtZSA9PT0gInRyYW5zcGFyZW50IikgewogICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsgLy8g6Ieq5Yqo6I635Y+W5pyA5L2z57yp5pS+5q+U5L6LCgoKICAgICAgICBfdGhpczMuc2V0U2NhbGVUb0ZpdFNpemUoX3RoaXMzLk1vZGVsKTsgLy/mqKHlnovoh6rliqjlsYXkuK0KCgogICAgICAgIF90aGlzMy5Nb2RlbEF1dG9DZW50ZXIoX3RoaXMzLk1vZGVsKTsgLy/mn6Xmib7mqKHlnovliqjnlLsKCgogICAgICAgIGlmIChfdGhpczMuTW9kZWwuYW5pbWF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczMuQW5pbWF0aW9uTWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoX3RoaXMzLk1vZGVsKTsKCiAgICAgICAgICBfdGhpczMuQW5pbWF0aW9uTWl4ZXIuY2xpcEFjdGlvbihfdGhpczMuTW9kZWwuYW5pbWF0aW9uc1swXSkucGxheSgpOwogICAgICAgIH0gLy8g5rWL6K+VT2JqIHN0YXJ0CgoKICAgICAgICBpZiAoIm9iaiIuaW5kZXhPZihNVFlQRSkgIT0gLTEpIHsKICAgICAgICAgIF90aGlzMy5Nb2RlbC5yb3RhdGlvbi5zZXQoOTAsIDE4MCwgMCk7CgogICAgICAgICAgX3RoaXMzLk1vZGVsLnBvc2l0aW9uLnNldCgwLCAwLCAwKTsKICAgICAgICB9IC8v5oqK5qih5Z6L5pS+5YWl5Zy65pmv5LitCgoKICAgICAgICBfdGhpczMuU2NlbmUuYWRkKF90aGlzMy5Nb2RlbCk7IC8vIOWKoOi9veaIkOWKn+WQjuiwg+aVtCDlsZXnpLrnmoTmqKHlnovlkI3np7AKCgogICAgICAgIF90aGlzMy5tb2RlbFRleHQudGl0bGUgPSBNT0RFTC5uYW1lOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMy5Nb2RlbCwgIm1vZGVsIik7IC8v5Yqg6L295a6M5oiQCgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9hZFRpcC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyAvLyB0aGlzLkNvbnRyb2xzLmF1dG9Sb3RhdGUgPSB0cnVlOwogICAgICAgIH0sIDEwMDApOwogICAgICB9LCBmdW5jdGlvbiAoeGhyKSB7CiAgICAgICAgLy/liqDovb3ov5vluqYKICAgICAgICBsb2FkVGlwLnRleHRDb250ZW50ID0gcGFyc2VJbnQoeGhyLmxvYWRlZCAvIHhoci50b3RhbCAqIDEwMCkgKyAiJeWKoOi9veS4rS4uLiI7IC8vIGxvYWRUaXAudGV4dENvbnRlbnQgPSAi5qih5Z6L5Yqg6L295LitLi4uIjsKICAgICAgICAvLyBjb25zb2xlLmxvZyh4aHIubG9hZGVkLCB4aHIudG90YWwsIHhocik7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBsb2FkVGlwLnRleHRDb250ZW50ID0gIuaooeWei+WKoOi9veWksei0pe+8gTHnp5LlkI7ph43mlrDliqDovb0iOwogICAgICAgIGNvbnNvbGUubG9nKCLmqKHlnovliqDovb3lpLHotKXvvIEiLCBlcnIpOwoKICAgICAgICBpZiAoX3RoaXMzLmxvYWRpbmdDb3VudCA9PSAzKSB7CiAgICAgICAgICBsb2FkVGlwLnRleHRDb250ZW50ID0gIuaooeWei+WKoOi9veWksei0pe+8jOivt+ajgOafpeaWh+S7tu+8gSI7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoIjQwNDogTm90IEZvdW5kIikpIHsKICAgICAgICAgIHZhciBwYXRoID0gTU9ERUwucGF0aC5zcGxpdCgiLiIpWzBdOwogICAgICAgICAgTU9ERUwucGF0aCA9IE1PREVMLnR5cGUgPT0gImZieCIgPyBwYXRoICsgIi5nbGIiIDogcGF0aCArICIuZmJ4IjsKICAgICAgICAgIE1PREVMLnR5cGUgPSBNT0RFTC50eXBlID09ICJmYngiID8gImdsYiIgOiAiZmJ4IjsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMubG9hZGluZ0NvdW50ICs9IDE7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKE1PREVMLCAiTU9ERUwiKTsKCiAgICAgICAgICAgIF90aGlzMy5tb2RlbExvYWRlcihNT0RFTCk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Yqg6L295YWJ5rqQCiAgICBhZGRMaWdodDogZnVuY3Rpb24gYWRkTGlnaHQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5MaWdodHMgPSBbewogICAgICAgIG5hbWU6ICJBbWJpZW50TGlnaHQiLAogICAgICAgIG9iajogbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC43KQogICAgICB9LCB7CiAgICAgICAgbmFtZTogIkRpcmVjdGlvbmFsTGlnaHQiLAogICAgICAgIG9iajogbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEpLAogICAgICAgIHBvc2l0aW9uOiBbODAsIDEwMCwgNTBdCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiRGlyZWN0aW9uYWxMaWdodFRvcCIsCiAgICAgICAgb2JqOiBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMSksCiAgICAgICAgcG9zaXRpb246IFswLCAxNSwgMF0KICAgICAgfV07CiAgICAgIHRoaXMuTGlnaHRzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBfaXRlbSRvYmokcG9zaXRpb247CgogICAgICAgIGl0ZW0ub2JqLm5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgaXRlbS5wb3NpdGlvbiAmJiAoX2l0ZW0kb2JqJHBvc2l0aW9uID0gaXRlbS5vYmoucG9zaXRpb24pLnNldC5hcHBseShfaXRlbSRvYmokcG9zaXRpb24sIF90b0NvbnN1bWFibGVBcnJheShpdGVtLnBvc2l0aW9uKSk7CiAgICAgICAgaXRlbS5IZWxwZXIgPSBuZXcgVEhSRUUuUG9pbnRMaWdodEhlbHBlcihpdGVtLm9iaik7CgogICAgICAgIF90aGlzNC5TY2VuZS5hZGQoaXRlbS5vYmopOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WKoOi9vUhEUui0tOWbvueOr+Wig+WFiQogICAgSGRyTG9hZGVyOiBmdW5jdGlvbiBIZHJMb2FkZXIoSERSKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHBtcmVtR2VuZXJhdG9yID0gbmV3IFRIUkVFLlBNUkVNR2VuZXJhdG9yKHRoaXMuUmVuZGVyZXIpOyAvLyDkvb/nlKhoZHLkvZzkuLrog4zmma/oibIKCiAgICAgIHBtcmVtR2VuZXJhdG9yLmNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIoKTsKICAgICAgdmFyIHRleHR1cmVMb2FkZXIgPSBuZXcgUkdCRUxvYWRlcigpOwogICAgICB0ZXh0dXJlTG9hZGVyLmxvYWQoSERSLCBmdW5jdGlvbiAodGV4dHVyZSwgdGV4dHVyZURhdGEpIHsKICAgICAgICB2YXIgZW52TWFwID0gcG1yZW1HZW5lcmF0b3IuZnJvbUVxdWlyZWN0YW5ndWxhcih0ZXh0dXJlKS50ZXh0dXJlOwogICAgICAgIGVudk1hcC5pc1BtcmVtVGV4dHVyZSA9IHRydWU7CiAgICAgICAgcG1yZW1HZW5lcmF0b3IuZGlzcG9zZSgpOwogICAgICAgIF90aGlzNS5TY2VuZS5lbnZpcm9ubWVudCA9IGVudk1hcDsgLy8g57uZ5Zy65pmv5re75Yqg546v5aKD5YWJ5pWI5p6cCgogICAgICAgIF90aGlzNS5TY2VuZS5iYWNrZ3JvdW5kID0gZW52TWFwOyAvLyDnu5nlnLrmma/mt7vliqDog4zmma/lm74KICAgICAgfSk7CiAgICB9LAogICAgLy/mt7vliqDkuovku7YKICAgIGFkZENvbnRyb2xzOiBmdW5jdGlvbiBhZGRDb250cm9scygpIHsKICAgICAgdGhpcy5Db250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuQ2FtZXJhLCB0aGlzLlJlbmRlcmVyLmRvbUVsZW1lbnQpOyAvLyDlpoLmnpzkvb/nlKhhbmltYXRl5pa55rOV5pe277yM5bCG5q2k5Ye95pWw5Yig6ZmkCiAgICAgIC8vY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lciggJ2NoYW5nZScsIHJlbmRlciApOwogICAgICAvLyDkvb/liqjnlLvlvqrnjq/kvb/nlKjml7bpmLvlsLzmiJboh6rovawg5oSP5oCd5piv5ZCm5pyJ5oOv5oCnCgogICAgICB0aGlzLkNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSB0cnVlOyAvL+aYr+WQpuWPr+S7pee8qeaUvgoKICAgICAgdGhpcy5Db250cm9scy5lbmFibGVab29tID0gdHJ1ZTsgLy/orr7nva7nm7jmnLrot53nprvljp/ngrnnmoTmnIDov5zot53nprst5Y+v5Lul5o6n5Yi257yp5pS+56iL5bqmCgogICAgICB0aGlzLkNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMjsgLy/orr7nva7nm7jmnLrot53nprvljp/ngrnnmoTmnIDov5zot53nprsKCiAgICAgIHRoaXMuQ29udHJvbHMubWF4RGlzdGFuY2UgPSAxMDsgLy84MDAKICAgICAgLy/mmK/lkKblvIDlkK/lj7PplK7mi5bmi70KCiAgICAgIHRoaXMuQ29udHJvbHMuZW5hYmxlUGFuID0gZmFsc2U7IC8v5Yqo5oCB6Zi75bC857O75pWwIOWwseaYr+m8oOagh+aLluaLveaXi+i9rOeBteaVj+W6pgoKICAgICAgdGhpcy5Db250cm9scy5kYW1waW5nRmFjdG9yID0gMC41OyAvL+aYr+WQpuiHquWKqOaXi+i9rAoKICAgICAgdGhpcy5Db250cm9scy5hdXRvUm90YXRlID0gZmFsc2U7CiAgICAgIHRoaXMuQ29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkID0gMTsKICAgIH0sCiAgICAvL+a3u+WKoOWKoOi9vei/m+W6pgogICAgYWRkTG9hZFRpcDogZnVuY3Rpb24gYWRkTG9hZFRpcCgpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udGFpbmVyIik7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5sb2FkVGlwIikgJiYgZWxlbWVudC5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubG9hZFRpcCIpKTsKICAgICAgdmFyIGxvYWRUaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgbG9hZFRpcC5jbGFzc05hbWUgPSAibG9hZFRpcCI7CiAgICAgIGxvYWRUaXAuc3R5bGUuY3NzVGV4dCArPSAicG9zaXRpb246Zml4ZWQ7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7Ym9yZGVyLXJhZGl1czo1cHg7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNSk7cGFkZGluZzo1cHggMTBweDtjb2xvcjojZmZmOyI7CiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobG9hZFRpcCk7CiAgICAgIHJldHVybiBsb2FkVGlwOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDorr7nva7liqDovb3mqKHlnovlsYXkuK0NCiAgICAgKiB7T2JqZWN0fSBncm91cCDmqKHlnovlr7nosaENCiAgICAgKi8KICAgIE1vZGVsQXV0b0NlbnRlcjogZnVuY3Rpb24gTW9kZWxBdXRvQ2VudGVyKGdyb3VwKSB7CiAgICAgIC8qKg0KICAgICAgICog5YyF5Zu055uS5YWo6Ieq5Yqo6K6h566X77ya5qih5Z6L5pW05L2T5bGF5LitDQogICAgICAgKi8KICAgICAgdmFyIGJveDMgPSBuZXcgVEhSRUUuQm94MygpOyAvLyDorqHnrpflsYLnuqfmqKHlnotncm91cOeahOWMheWbtOebkgogICAgICAvLyDmqKHlnotncm91cOaYr+WKoOi9veS4gOS4quS4iee7tOaooeWei+i/lOWbnueahOWvueixoe+8jOWMheWQq+WkmuS4que9keagvOaooeWeiwoKICAgICAgYm94My5leHBhbmRCeU9iamVjdChncm91cCk7IC8vIOiuoeeul+S4gOS4quWxgue6p+aooeWei+WvueW6lOWMheWbtOebkueahOWHoOS9leS9k+S4reW/g+WcqOS4lueVjOWdkOagh+S4reeahOS9jee9rgoKICAgICAgdmFyIGNlbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CiAgICAgIGJveDMuZ2V0Q2VudGVyKGNlbnRlcik7IC8vIGNvbnNvbGUubG9nKCfmn6XnnIvlh6DkvZXkvZPkuK3lv4PlnZDmoIcnLCBjZW50ZXIpOwogICAgICAvLyDph43mlrDorr7nva7mqKHlnovnmoTkvY3nva7vvIzkvb/kuYvlsYXkuK3jgIIKCiAgICAgIGdyb3VwLnBvc2l0aW9uLnggPSBncm91cC5wb3NpdGlvbi54IC0gY2VudGVyLng7CiAgICAgIGdyb3VwLnBvc2l0aW9uLnkgPSBncm91cC5wb3NpdGlvbi55IC0gY2VudGVyLnk7CiAgICAgIGdyb3VwLnBvc2l0aW9uLnogPSBncm91cC5wb3NpdGlvbi56IC0gY2VudGVyLno7CiAgICB9LAogICAgLy/mt7vliqDovoXliqnpnaLmnb8KICAgIGFuaW1hdGlvbjogZnVuY3Rpb24gYW5pbWF0aW9uKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIC8v5pu05paw5o6n5Yi25ZmoCiAgICAgIHRoaXMuUmVuZGVyZXIucmVuZGVyKHRoaXMuU2NlbmUsIHRoaXMuQ2FtZXJhKTsKICAgICAgdGhpcy5Db250cm9scy51cGRhdGUoKTsKICAgICAgdGhpcy5BbmltYXRpb25NaXhlciAmJiB0aGlzLkFuaW1hdGlvbk1peGVyLnVwZGF0ZSh0aGlzLlRjbG9jay5nZXREZWx0YSgpKTsKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM2LmFuaW1hdGlvbigpOwogICAgICB9KTsKICAgIH0sCiAgICBvbldpbmRvd1Jlc2l6ZTogZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7CiAgICAgIHRoaXMuQ2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB0aGlzLkNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7CiAgICAgIHRoaXMuUmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsKICAgICAgdGhpcy5SZW5kZXJlci5yZW5kZXIodGhpcy5TY2VuZSwgdGhpcy5DYW1lcmEpOwogICAgfSwKICAgIC8v6I635Y+W5qih5Z6L6YCC5ZCI6KeC5a+f55qE57yp5pS+55qE5q+U5L6LCiAgICBnZXRGaXRTY2FsZVZhbHVlOiBmdW5jdGlvbiBnZXRGaXRTY2FsZVZhbHVlKG9iaikgewogICAgICB2YXIgYm94SGVscGVyID0gbmV3IFRIUkVFLkJveEhlbHBlcihvYmopOwogICAgICBib3hIZWxwZXIuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7CiAgICAgIHZhciBib3ggPSBib3hIZWxwZXIuZ2VvbWV0cnkuYm91bmRpbmdCb3g7CiAgICAgIHZhciBtYXhEaWFtZXRlciA9IE1hdGgubWF4KGJveC5tYXgueCAtIGJveC5taW4ueCwgYm94Lm1heC55IC0gYm94Lm1pbi55LCBib3gubWF4LnogLSBib3gubWluLnopOwogICAgICBjb25zb2xlLmxvZyh0aGlzLkNhbWVyYS5wb3NpdGlvbi56IC8gbWF4RGlhbWV0ZXIsICJ0aGlzLkNhbWVyYS5wb3NpdGlvbi56IC8gbWF4RGlhbWV0ZXIiKTsKICAgICAgcmV0dXJuIHRoaXMuQ2FtZXJhLnBvc2l0aW9uLnogLyBtYXhEaWFtZXRlcjsKICAgIH0sCiAgICAvL+iuvue9ruaooeWei+WIsOmAguWQiOinguWvn+eahOWkp+WwjwogICAgc2V0U2NhbGVUb0ZpdFNpemU6IGZ1bmN0aW9uIHNldFNjYWxlVG9GaXRTaXplKG9iaikgewogICAgICB2YXIgc2NhbGVWYWx1ZSA9IHRoaXMuZ2V0Rml0U2NhbGVWYWx1ZShvYmopICogMC40MjsgLy8gdmFyIHNjYWxlVmFsdWUgPSB0aGlzLmdldEZpdFNjYWxlVmFsdWUob2JqKTsKCiAgICAgIG9iai5zY2FsZS5zZXQoc2NhbGVWYWx1ZSwgc2NhbGVWYWx1ZSwgc2NhbGVWYWx1ZSk7CiAgICAgIHJldHVybiBzY2FsZVZhbHVlOwogICAgfSwKICAgIC8vIOaYr+WQpuW8gOWQr+aooeWei+iHquWKqOaXi+i9rAogICAgbW9kZWxBdXRvOiBmdW5jdGlvbiBtb2RlbEF1dG8oKSB7CiAgICAgIHRoaXMuQ29udHJvbHMuYXV0b1JvdGF0ZSA9ICF0aGlzLkNvbnRyb2xzLmF1dG9Sb3RhdGU7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsLCBvbGRWYWwpIHsKICAgICAgICBpZiAodmFsLnF1ZXJ5LmluZGV4KSB7CiAgICAgICAgICB0aGlzLnJhbmRvbU1vZGVsKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyDmt7Hluqbop4Llr5/nm5HlkKwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgIC8vIGNvbnN0IGZpbGVzID0gcmVxdWlyZQogICAgLy8gICAuY29udGV4dCgiQC9hc3NldHMvbW9kZWxzIiwgZmFsc2UsIC9cLmpwZyQvKQogICAgLy8gICAua2V5cygpCiAgICAvLyAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0uc2xpY2UoMikpOwogICAgdGhpcy5tb2RlbE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgX3RoaXM3Lm1vZGVscy5wdXNoKHsKICAgICAgICBuYW1lOiBpdGVtLAogICAgICAgIHBhdGg6ICJzdGF0aWMvbW9kZWxzLyIuY29uY2F0KGl0ZW0sICIuZ2xiIiksCiAgICAgICAgcG9zaXRpb246IGl0ZW0uaW5jbHVkZXMoIueinyIpIHx8IGl0ZW0uaW5jbHVkZXMoIuebmCIpID8gWzAsIDIsIDVdIDogWzAsIDAsIDVdLAogICAgICAgIC8vIHRleHR1cmU6IGZpbGVzCiAgICAgICAgLy8gICAuZmlsdGVyKChmaWxlTmFtZSkgPT4gZmlsZU5hbWUuaW5jbHVkZXMoaXRlbSkpCiAgICAgICAgLy8gICAubWFwKChuYW1lKSA9PiBgQC9hc3NldHMvbW9kZWxzLyR7bmFtZX1gKSwKICAgICAgICB0eXBlOiAiZ2xiIgogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy5pbml0KCk7CgogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXM3Lm9uV2luZG93UmVzaXplKCk7CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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,4CAFA;QAGAC;MAHA,CAFA,EAOA;QACArD,2BADA;QAEAoD,4CAFA;QAGAC;MAHA,CAPA;MAcA;QAAA;;QACAC;QACAA;QACAA;;QACA;MACA,CALA;IAMA,CAxNA;IA0NA;IACAC;MAAA;;MACA,6DADA,CACA;;MACAC;MACA;MACAC;QACA;QAEAC;QACAF;QAEA,kCANA,CAMA;;QACA,iCAPA,CAOA;MACA,CARA;IASA,CAxOA;IAyOA;IACAG,WA1OA,yBA0OA;MACA,yEADA,CAEA;MACA;MACA;;MACA,mCALA,CAMA;;MACA,gCAPA,CAQA;;MACA,8BATA,CAUA;;MACA,+BAXA,CAWA;MACA;;MACA,gCAbA,CAcA;;MACA,kCAfA,CAgBA;;MACA;MACA;IACA,CA7PA;IA8PA;IACAC,UA/PA,wBA+PA;MACA;MACAC,sCACArB,uDADA;MAEA;MACAQ;MACAA,yBACA,gJADA;MAEAR;MACA;IACA,CAzQA;;IA0QA;AACA;AACA;AACA;IACAsB,eA9QA,2BA8QAC,KA9QA,EA8QA;MACA;AACA;AACA;MACA,4BAJA,CAKA;MACA;;MACAC,2BAPA,CAQA;;MACA;MACAA,uBAVA,CAWA;MAEA;;MACAD;MACAA;MACAA;IACA,CA/RA;IAgSA;IACAE;MAAA;;MACA;MACA;MACA;MACA;MACAC;QAAA;MAAA;IACA,CAvSA;IAwSAC;MACA;MACA;MACA;MACA;IACA,CA7SA;IA8SA;IACAC,gBA/SA,4BA+SAhB,GA/SA,EA+SA;MACA;MACAiB;MACA;MACA,2BACAC,qBADA,EAEAA,qBAFA,EAGAA,qBAHA;MAKAzB,YACA,oCADA,EAEA,sCAFA;MAIA;IACA,CA7TA;IA8TA;IACA0B,iBA/TA,6BA+TAnB,GA/TA,EA+TA;MACA,mDADA,CAEA;;MACAA;MACA;IACA,CApUA;IAqUA;IACAoB,SAtUA,uBAsUA;MACA;IACA;EAxUA,CAvDA;EAiYAC;IACAC;MACAC;QACA;UACA;QACA;MACA,CALA;MAMA;MACAC;IAPA;EADA,CAjYA;EA4YAC,OA5YA,qBA4YA;IAAA;;IACA;IACA;IACA;IACA;IACA;MACA;QACA7E,UADA;QAEA8E,2CAFA;QAGAzB,UACAC,gEAJA;QAKA;QACA;QACA;QACAyB;MARA;IAUA,CAXA;IAaA;;IACArC;MAAA;IAAA;EACA;AAhaA","names":["name","components","Tutorial","data","Scene","Renderer","Camera","Model","Lights","AnimationMixer","Tclock","Controls","GridHelper","modelNames","models","showTip","selectModelIndex","dialogVisible","modelText","title","subTitle","loadingCount","methods","getDataInfo","randomModel","index","temp","lock","text","spinner","background","setTimeout","loading","close","init","setScene","setRenderer","antialias","alpha","renderer","element","setCamera","window","modelLoader","MODEL","console","MTYPE","Loader","loadTip","child","parseInt","addLight","obj","position","item","HdrLoader","pmremGenerator","textureLoader","envMap","addControls","addLoadTip","document","ModelAutoCenter","group","box3","animation","requestAnimationFrame","onWindowResize","getFitScaleValue","boxHelper","box","setScaleToFitSize","modelAuto","watch","$route","handler","deep","mounted","path","type"],"sourceRoot":"src/views","sources":["indexOld.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"container\"\r\n         class=\"three-container\"\r\n         ref=\"three\"\r\n         :style=\"{filter: (dialogVisible ? `blur(10px)`: ``)}\">\r\n      <div class=\"title\">\r\n        <div class=\"content\">\r\n          <div class=\"_title\">{{modelText.title}}</div>\r\n          <div v-if=\"!showTip\">\r\n            <img src=\"@/assets/images/showTip.png\"\r\n                 alt=\"\"\r\n                 class=\"pointer\"\r\n                 @click=\"showTip = true\">\r\n          </div>\r\n          <div v-if=\"showTip\">\r\n            <div class=\"_sub-title\">{{modelText.subTitle}}</div>\r\n            <div>\r\n              <img src=\"@/assets/images/hideTip.png\"\r\n                   alt=\"\"\r\n                   class=\"pointer\"\r\n                   @click=\"showTip = false\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"logo\">\r\n        <img src=\"@/assets/images/logo.png\"\r\n             alt=\"\">\r\n      </div>\r\n      <div class=\"action\">\r\n        <img src=\"@/assets/images/auto.png\"\r\n             alt=\"\"\r\n             class=\"auto-icon\"\r\n             @click=\"modelAuto()\">\r\n        <img src=\"@/assets/images/help.png\"\r\n             class=\"help-icon\"\r\n             alt=\"\"\r\n             @click=\"dialogVisible=true;\">\r\n      </div>\r\n      <div class=\"close pointer\">\r\n        <img src=\"@/assets/images/close.png\"\r\n             alt=\"\"\r\n             @click=\"close()\">\r\n      </div>\r\n    </div>\r\n\r\n    <Tutorial v-model=\"dialogVisible\"></Tutorial>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUrlParam } from \"@/tools/utils.js\";\r\n\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\r\nimport { RGBELoader } from \"three/examples/jsm/loaders/RGBELoader\";\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\n\r\nimport Tutorial from \"@/components/tutorial/index.vue\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    Tutorial,\r\n  },\r\n  data() {\r\n    return {\r\n      Scene: null,\r\n      Renderer: null,\r\n      Camera: null,\r\n      Model: null,\r\n      Lights: null,\r\n      AnimationMixer: null,\r\n      Tclock: new THREE.Clock(),\r\n      Controls: null,\r\n      GridHelper: new THREE.GridHelper(300, 50, 0x00ff12, 0xffffff),\r\n      modelNames: [\r\n        \"“水波纹”彩陶豆\",\r\n        \"19世纪黑漆描金制茶贸易图茶叶罐\",\r\n        \"19世纪檀香木雕柳亭人物故事图盒\",\r\n        \"澳大利亚悉尼永安公司使用的油印机\",\r\n        \"彩花卉纹描金徽章碟\",\r\n        \"春秋时代方格纹双耳陶罐\",\r\n        \"广彩徽章广州风景长方盘\",\r\n        \"吕文成用过的高胡\",\r\n        \"木雕博古纹扶手椅（马来西亚霹雳中山会馆捐赠）\",\r\n        \"木雕筹码提箱（美国华侨使用）\",\r\n        \"清港口天后庙较合司码铁权\",\r\n        \"清广绣五伦图花梨框小座屏\",\r\n        \"清饕餮纹铜觚\",\r\n        \"清铁牛尊\",\r\n        \"商“∏”符号陶壶\",\r\n        \"收银机（美国华侨使用）\",\r\n        \"饕餮纹铜烛台\",\r\n        \"新石器时代划弦纹彩陶碗\",\r\n        \"战国时代素胎方格纹双系陶罐\",\r\n        \"家族为金开结婚时取字“圣权”的字架\",\r\n        \"林善永赠给美国三藩市亚摩那华埠关帝庙的花瓶\",\r\n        \"阮霭培家族使用的龙凤茶具\",\r\n        \"铸铁橡胶铰（挤出压片机）\",\r\n        \"座钟\",\r\n        \"玻璃花插\",\r\n      ],\r\n      models: [],\r\n      showTip: true,\r\n      selectModelIndex: 0,\r\n      dialogVisible: false,\r\n      modelText: {\r\n        title: \"\",\r\n        subTitle: \"这是一个古董\",\r\n      },\r\n      // 重新加载次数\r\n      loadingCount: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async getDataInfo() {},\r\n    randomModel(force = false) {\r\n      const temp = [...this.models];\r\n      let index = getUrlParam(\"index\");\r\n      if (!index || force) {\r\n        index = Math.floor(Math.random() * temp.length - 1);\r\n      }\r\n      if (index >= temp.length) {\r\n        this.$message.warning(\r\n          `index不能超过${temp.length - 1}，2秒后将进行随机展示某个物品`\r\n        );\r\n        const loading = this.$loading({\r\n          lock: true,\r\n          text: \"Loading\",\r\n          spinner: \"el-icon-loading\",\r\n          background: \"rgba(0, 0, 0, 0.7)\",\r\n        });\r\n        setTimeout(() => {\r\n          loading.close();\r\n          this.randomModel(true);\r\n        }, 2000);\r\n        return;\r\n      }\r\n      this.modelLoader(temp[index]);\r\n    },\r\n    close() {\r\n      this.$message.success(\"关闭\");\r\n    },\r\n    async init() {\r\n      this.setScene();\r\n      this.setRenderer();\r\n      this.setCamera();\r\n      this.addControls();\r\n      this.addLight();\r\n      this.randomModel();\r\n      //添加辅助面板\r\n      this.animation();\r\n    },\r\n    setScene() {\r\n      const scene = new THREE.Scene();\r\n      // scene.background = new THREE.TextureLoader().load(BG);\r\n      this.Scene = scene;\r\n\r\n      //显示三维坐标系\r\n      // var axis = new THREE.AxisHelper(3);\r\n      // scene.add(axis);\r\n    },\r\n    setRenderer() {\r\n      const element = document.getElementById(\"container\");\r\n\r\n      const renderer = new THREE.WebGLRenderer({\r\n        antialias: true,\r\n        alpha: true, // 透明背景\r\n      });\r\n      // 设置渲染器的像素比例，按照设备\r\n      renderer.setPixelRatio(window.devicePixelRatio);\r\n      renderer.setSize(element.clientWidth, element.clientHeight); // 设置渲染区域尺寸\r\n      renderer.outputEncoding = THREE.sRGBEncoding;\r\n      // 色调映射属性.toneMapping用于在普通计算机显示器或者移动设备屏幕等低动态范围介质上，模拟、逼近高动态范围(HDR)效果\r\n      renderer.toneMapping = THREE.ReinhardToneMapping;\r\n      renderer.toneMappingExposure = 1; // 曝光系数\r\n\r\n      this.Renderer = renderer;\r\n      element.appendChild(renderer.domElement);\r\n    },\r\n    setCamera() {\r\n      this.Camera = new THREE.PerspectiveCamera(\r\n        45,\r\n        window.innerWidth / window.innerHeight,\r\n        1,\r\n        10000\r\n      );\r\n      this.Camera.position.set(0, 0, 50);\r\n      this.Camera.lookAt(this.Scene.position);\r\n    },\r\n    //加载模型GLTF FBX\r\n    modelLoader(MODEL) {\r\n      console.log(MODEL)\r\n      const loadTip = this.addLoadTip();\r\n\r\n      this.Controls.autoRotate = false;\r\n      //添加环境hdr\r\n      MODEL.hdr && this.HdrLoader(MODEL.hdr);\r\n\r\n      let Loader = \"\",\r\n        MTYPE = MODEL.type || \"glb\";\r\n\r\n      if (\"glb,gltf\".indexOf(MTYPE) != -1) {\r\n        Loader = new GLTFLoader();\r\n      } else if (\"fbx\".indexOf(MTYPE) != -1) {\r\n        Loader = new FBXLoader();\r\n      } else if (\"obj\".includes(MTYPE)) {\r\n        Loader = new OBJLoader();\r\n      } else {\r\n        loadTip.textContent = \"请使用glb,gltf,fbx格式模型\";\r\n        return;\r\n      }\r\n\r\n      Loader.load(\r\n        MODEL.path,\r\n        (geometry) => {\r\n          loadTip.textContent = \"加载完成！\";\r\n          //移除模型\r\n          this.Model && this.Scene.remove(this.Model);\r\n          //设置相机位置\r\n          this.Camera.position.set(...MODEL.position);\r\n          this.Model = \"fbx\".indexOf(MTYPE) != -1 ? geometry : geometry.scene;\r\n\r\n          // 测试Obj start\r\n          if (\"obj\".indexOf(MTYPE) != -1) {\r\n            this.Model = geometry;\r\n          }\r\n          // end\r\n\r\n          //遍历模型字节点，获取相关参数设置\r\n          this.Model.traverse(function (child) {\r\n            if (child.isMesh) {\r\n              console.log(child, \"child：\", child.name);\r\n              // 高光值 默认30\r\n              child.material.shininess = 1;\r\n              child.castShadow = true;\r\n              child.receiveShadow = true;\r\n\r\n              child.material.transparent = true; //材质允许透明 如果有玻璃材质时开启\r\n              child.material.opacity = 1; //材质默认透明度\r\n              if (\r\n                child.name === \"Model_2\" ||\r\n                child.material.name === \"transparent\"\r\n              ) {\r\n                child.material.opacity = 0.3;\r\n              }\r\n            }\r\n          });\r\n          // 自动获取最佳缩放比例\r\n          this.setScaleToFitSize(this.Model);\r\n\r\n          //模型自动居中\r\n          this.ModelAutoCenter(this.Model);\r\n\r\n          //查找模型动画\r\n          if (this.Model.animations.length > 0) {\r\n            this.AnimationMixer = new THREE.AnimationMixer(this.Model);\r\n            this.AnimationMixer.clipAction(this.Model.animations[0]).play();\r\n          }\r\n\r\n          // 测试Obj start\r\n          if (\"obj\".indexOf(MTYPE) != -1) {\r\n            this.Model.rotation.set(90, 180, 0);\r\n            this.Model.position.set(0, 0, 0);\r\n          }\r\n\r\n          //把模型放入场景中\r\n          this.Scene.add(this.Model);\r\n\r\n          // 加载成功后调整 展示的模型名称\r\n          this.modelText.title = MODEL.name;\r\n          console.log(this.Model, \"model\");\r\n\r\n          //加载完成\r\n          setTimeout(() => {\r\n            loadTip.style.display = \"none\";\r\n            // this.Controls.autoRotate = true;\r\n          }, 1000);\r\n        },\r\n        (xhr) => {\r\n          //加载进度\r\n          loadTip.textContent =\r\n            parseInt((xhr.loaded / xhr.total) * 100) + \"%加载中...\";\r\n          // loadTip.textContent = \"模型加载中...\";\r\n          // console.log(xhr.loaded, xhr.total, xhr);\r\n        },\r\n        (err) => {\r\n          loadTip.textContent = \"模型加载失败！1秒后重新加载\";\r\n          console.log(\"模型加载失败！\", err);\r\n\r\n          if (this.loadingCount == 3) {\r\n            loadTip.textContent = \"模型加载失败，请检查文件！\";\r\n            return;\r\n          }\r\n\r\n          if (err.message.includes(\"404: Not Found\")) {\r\n            const path = MODEL.path.split(\".\")[0];\r\n            MODEL.path = MODEL.type == \"fbx\" ? path + \".glb\" : path + \".fbx\";\r\n            MODEL.type = MODEL.type == \"fbx\" ? \"glb\" : \"fbx\";\r\n            setTimeout(() => {\r\n              this.loadingCount += 1;\r\n              console.log(MODEL, \"MODEL\");\r\n              this.modelLoader(MODEL);\r\n            }, 1000);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    //加载光源\r\n    addLight: function () {\r\n      this.Lights = [\r\n        { name: \"AmbientLight\", obj: new THREE.AmbientLight(0xffffff, 0.7) },\r\n        {\r\n          name: \"DirectionalLight\",\r\n          obj: new THREE.DirectionalLight(0xffffff, 1),\r\n          position: [80, 100, 50],\r\n        },\r\n        {\r\n          name: \"DirectionalLightTop\",\r\n          obj: new THREE.DirectionalLight(0xffffff, 1),\r\n          position: [0, 15, 0],\r\n        },\r\n      ];\r\n\r\n      this.Lights.map((item) => {\r\n        item.obj.name = item.name;\r\n        item.position && item.obj.position.set(...item.position);\r\n        item.Helper = new THREE.PointLightHelper(item.obj);\r\n        this.Scene.add(item.obj);\r\n      });\r\n    },\r\n\r\n    //加载HDR贴图环境光\r\n    HdrLoader: function (HDR) {\r\n      const pmremGenerator = new THREE.PMREMGenerator(this.Renderer); // 使用hdr作为背景色\r\n      pmremGenerator.compileEquirectangularShader();\r\n      const textureLoader = new RGBELoader();\r\n      textureLoader.load(HDR, (texture, textureData) => {\r\n        const envMap = pmremGenerator.fromEquirectangular(texture).texture;\r\n\r\n        envMap.isPmremTexture = true;\r\n        pmremGenerator.dispose();\r\n\r\n        this.Scene.environment = envMap; // 给场景添加环境光效果\r\n        this.Scene.background = envMap; // 给场景添加背景图\r\n      });\r\n    },\r\n    //添加事件\r\n    addControls() {\r\n      this.Controls = new OrbitControls(this.Camera, this.Renderer.domElement);\r\n      // 如果使用animate方法时，将此函数删除\r\n      //controls.addEventListener( 'change', render );\r\n      // 使动画循环使用时阻尼或自转 意思是否有惯性\r\n      this.Controls.enableDamping = true;\r\n      //是否可以缩放\r\n      this.Controls.enableZoom = true;\r\n      //设置相机距离原点的最远距离-可以控制缩放程度\r\n      this.Controls.minDistance = 2;\r\n      //设置相机距离原点的最远距离\r\n      this.Controls.maxDistance = 10; //800\r\n      //是否开启右键拖拽\r\n      this.Controls.enablePan = false;\r\n      //动态阻尼系数 就是鼠标拖拽旋转灵敏度\r\n      this.Controls.dampingFactor = 0.5;\r\n      //是否自动旋转\r\n      this.Controls.autoRotate = false;\r\n      this.Controls.autoRotateSpeed = 1;\r\n    },\r\n    //添加加载进度\r\n    addLoadTip() {\r\n      const element = document.getElementById(\"container\");\r\n      document.querySelector(\".loadTip\") &&\r\n        element.removeChild(document.querySelector(\".loadTip\"));\r\n      let loadTip = document.createElement(\"div\");\r\n      loadTip.className = \"loadTip\";\r\n      loadTip.style.cssText +=\r\n        \"position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:5px;background-color:rgba(0,0,0,0.5);padding:5px 10px;color:#fff;\";\r\n      element.appendChild(loadTip);\r\n      return loadTip;\r\n    },\r\n    /**\r\n     * 设置加载模型居中\r\n     * {Object} group 模型对象\r\n     */\r\n    ModelAutoCenter(group) {\r\n      /**\r\n       * 包围盒全自动计算：模型整体居中\r\n       */\r\n      var box3 = new THREE.Box3();\r\n      // 计算层级模型group的包围盒\r\n      // 模型group是加载一个三维模型返回的对象，包含多个网格模型\r\n      box3.expandByObject(group);\r\n      // 计算一个层级模型对应包围盒的几何体中心在世界坐标中的位置\r\n      var center = new THREE.Vector3();\r\n      box3.getCenter(center);\r\n      // console.log('查看几何体中心坐标', center);\r\n\r\n      // 重新设置模型的位置，使之居中。\r\n      group.position.x = group.position.x - center.x;\r\n      group.position.y = group.position.y - center.y;\r\n      group.position.z = group.position.z - center.z;\r\n    },\r\n    //添加辅助面板\r\n    animation: function () {\r\n      //更新控制器\r\n      this.Renderer.render(this.Scene, this.Camera);\r\n      this.Controls.update();\r\n      this.AnimationMixer && this.AnimationMixer.update(this.Tclock.getDelta());\r\n      requestAnimationFrame(() => this.animation());\r\n    },\r\n    onWindowResize: function () {\r\n      this.Camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.Camera.updateProjectionMatrix();\r\n      this.Renderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.Renderer.render(this.Scene, this.Camera);\r\n    },\r\n    //获取模型适合观察的缩放的比例\r\n    getFitScaleValue(obj) {\r\n      var boxHelper = new THREE.BoxHelper(obj);\r\n      boxHelper.geometry.computeBoundingBox();\r\n      var box = boxHelper.geometry.boundingBox;\r\n      var maxDiameter = Math.max(\r\n        box.max.x - box.min.x,\r\n        box.max.y - box.min.y,\r\n        box.max.z - box.min.z\r\n      );\r\n      console.log(\r\n        this.Camera.position.z / maxDiameter,\r\n        \"this.Camera.position.z / maxDiameter\"\r\n      );\r\n      return this.Camera.position.z / maxDiameter;\r\n    },\r\n    //设置模型到适合观察的大小\r\n    setScaleToFitSize(obj) {\r\n      var scaleValue = this.getFitScaleValue(obj) * 0.42;\r\n      // var scaleValue = this.getFitScaleValue(obj);\r\n      obj.scale.set(scaleValue, scaleValue, scaleValue);\r\n      return scaleValue;\r\n    },\r\n    // 是否开启模型自动旋转\r\n    modelAuto() {\r\n      this.Controls.autoRotate = !this.Controls.autoRotate;\r\n    },\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function (val, oldVal) {\r\n        if (val.query.index) {\r\n          this.randomModel();\r\n        }\r\n      },\r\n      // 深度观察监听\r\n      deep: true,\r\n    },\r\n  },\r\n  mounted() {\r\n    // const files = require\r\n    //   .context(\"@/assets/models\", false, /\\.jpg$/)\r\n    //   .keys()\r\n    //   .map((item) => item.slice(2));\r\n    this.modelNames.forEach((item) => {\r\n      this.models.push({\r\n        name: item,\r\n        path: `static/models/${item}.glb`,\r\n        position:\r\n          item.includes(\"碟\") || item.includes(\"盘\") ? [0, 2, 5] : [0, 0, 5],\r\n        // texture: files\r\n        //   .filter((fileName) => fileName.includes(item))\r\n        //   .map((name) => `@/assets/models/${name}`),\r\n        type: \"glb\",\r\n      });\r\n    });\r\n\r\n    this.init();\r\n    window.onresize = () => this.onWindowResize();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#container {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  // background-image: url(\"../assets/images/bg.jpg\");\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  cursor: grab;\r\n\r\n  .title {\r\n    position: absolute;\r\n    top: 7%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    text-align: center;\r\n    color: #6f4118;\r\n    width: 100%;\r\n\r\n    .content {\r\n      width: 60%;\r\n      margin: auto;\r\n    }\r\n\r\n    ._title {\r\n      font-size: 36px;\r\n      margin-bottom: 20px;\r\n      letter-spacing: 2px;\r\n    }\r\n\r\n    ._sub-title {\r\n      font-size: 20px;\r\n      line-height: 26px;\r\n      margin-bottom: 10px;\r\n      letter-spacing: 4px;\r\n    }\r\n  }\r\n\r\n  .logo {\r\n    position: absolute;\r\n    top: 7%;\r\n    left: 5%;\r\n  }\r\n  .action {\r\n    position: absolute;\r\n    bottom: 5%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n\r\n    img {\r\n      cursor: pointer;\r\n    }\r\n    img + img {\r\n      margin-left: 20px;\r\n    }\r\n  }\r\n\r\n  .help {\r\n    position: absolute;\r\n    bottom: 5%;\r\n    right: 5%;\r\n  }\r\n\r\n  .close {\r\n    position: absolute;\r\n    top: 5%;\r\n    right: 5%;\r\n  }\r\n}\r\n</style>\r\n"]}]}